<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="LINQ 2" /><meta property="og:locale" content="en" /><meta name="description" content="쿼리 쿼리 식 이 전 내용은 표준 쿼리식과 그 키워드에 관한 내용들." /><meta property="og:description" content="쿼리 쿼리 식 이 전 내용은 표준 쿼리식과 그 키워드에 관한 내용들." /><link rel="canonical" href="https://psy0231.github.io/posts/CS_14_Linq_2/" /><meta property="og:url" content="https://psy0231.github.io/posts/CS_14_Linq_2/" /><meta property="og:site_name" content="Null Section" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-08-21T12:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="LINQ 2" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"쿼리 쿼리 식 이 전 내용은 표준 쿼리식과 그 키워드에 관한 내용들.","headline":"LINQ 2","dateModified":"2021-08-21T14:27:28+09:00","datePublished":"2021-08-21T12:00:00+09:00","url":"https://psy0231.github.io/posts/CS_14_Linq_2/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://psy0231.github.io/posts/CS_14_Linq_2/"},"@context":"https://schema.org"}</script><title>14. LINQ 2 | Null Section</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Null Section"><meta name="application-name" content="Null Section"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">Null Section</a></div><div class="site-subtitle font-italic">nothing here.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/psy0231" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['psy0231','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>14. LINQ 2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>14. LINQ 2</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/username">SooyongPark</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-08-21 12:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Sat, Aug 21, 2021, 12:00 PM +0900" >Aug 21, 2021</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="13625 words"> <em>75 min</em> read</span></div></div></div><div class="post-content"><h2 id="쿼리">쿼리<a href="#쿼리" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="쿼리-식">쿼리 식<a href="#쿼리-식" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><p>이 전 내용은 표준 쿼리식과 그 키워드에 관한 내용들.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: right">절<th style="text-align: left">Description<tbody><tr><td style="text-align: right">from<td style="text-align: left">데이터 소스와 범위 변수(반복 변수와 유사함)를 지정.<tr><td style="text-align: right">where<td style="text-align: left">논리적 AND 및 OR 연산자(&amp;&amp; 또는 ||)로 구분된<br />하나 이상의 부울 식을 기준으로<br />소스 요소를 필터링.<tr><td style="text-align: right">select<td style="text-align: left">쿼리를 실행할 때 반환된 시퀀스의 요소에<br /> 사용할 형식 및 모양을 지정.<tr><td style="text-align: right">group<td style="text-align: left">지정된 키 값에 따라 쿼리 결과를 그룹화.<tr><td style="text-align: right">into<td style="text-align: left">join, group 또는 select 절의 결과에 대한<br />참조로 사용할 수 있는 식별자 제공.<tr><td style="text-align: right">orderby<td style="text-align: left">요소 형식에 대한 기본 비교자에 따라<br />오름차순 또는 내림차순으로 쿼리 결과를 정렬.<tr><td style="text-align: right">join<td style="text-align: left">지정한 두 일치 조건 간의<br />같음 비교를 기반으로 두 데이터 소스를 조인.<tr><td style="text-align: right">let<td style="text-align: left">쿼리 식에 하위 식 결과를 저장할 범위 변수 도입.<tr><td style="text-align: right">in<td style="text-align: left">join 절의 상황별 키워드.<tr><td style="text-align: right">on<td style="text-align: left">join 절의 상황별 키워드.<tr><td style="text-align: right">equals<td style="text-align: left">join 절의 상황별 키워드.<tr><td style="text-align: right">by<td style="text-align: left">group 절의 상황별 키워드.<tr><td style="text-align: right">ascending<td style="text-align: left">orderby 절의 상황별 키워드.<tr><td style="text-align: right">descending<td style="text-align: left">orderby 절의 상황별 키워드.</table></div><li><p>이상 내용들은 이 전 내용 또는 없으면 나중에 추가하겠지..</p></ul><h3 id="쿼리-연산자">쿼리 연산자<a href="#쿼리-연산자" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>LINQ 패턴을 형성하는 메서드.<ul><li>이 중 대부분은 sequences라는 형식 개체에서 동작<ul><li>IEnumerable&lt;T&gt; 인터페이스<li>IQueryable&lt;T&gt; 인터페이스<li>위 둘을 구현함.</ul><li>필터링, 프로젝션, 집계, 정렬 등 다양한 쿼리 기능 제공.</ul><li>두 가지 LINQ 표준 쿼리 연산자 집합이 있다.<ul><li>IEnumerable&lt;T&gt; 형식의 개체와 작동하는 연산자, <br /> IQueryable&lt;T&gt; 형식의 개체와 작동하는 연산자<li>각 집합을 구성하는 메서드는 각각 <br /> Enumerable 및 Queryable 클래스의 정적 멤버.<li>작동하는 형식의 확장 메서드로 정의. <br /> 확장 메서드는 정적 메서드 구문 또는<br /> 인스턴스 메서드 구문을 사용하여 호출할 수 있다.<li>아래 method 예시에 이 두 경우 모두 씀<ul><li>AsEnumerable() : 대부분의 경우 기본이<br /> Enumerable 형이거나 이 키워드는 생략 가능한듯<li>AsQueryable은 꼭 명시 해줘야되는데<br /> Enumerable이면서 Queryable은안되는 경우가 가끔 있음</ul></ul><li>몇 가지 표준 쿼리 연산자 메서드는<br /> IEnumerable&lt;T&gt; 또는 IQueryable&lt;T&gt; <br /> 이외의 형식에서 작동.<ul><li>Enumerable 형식은<br /> 둘 다 IEnumerable 형식의 개체에서 작동하는<br /> 두 가지 메서드를 정의.<li>이러한 메서드<br /> Cast&lt;TResult&gt;(IEnumerable) 및<br /> OfType&lt;TResult&gt;(IEnumerable)을 사용하면<br /> 매개 변수화되지 않거나<br /> 제네릭이 아닌 컬렉션을<br /> LINQ 패턴에서 쿼리 할 수 있음.<li>강력한 형식의 개체 컬렉션을 만들어 이를 수행.<li>Queryable 클래스는<br /> IQueryable 형식의 개체에서 작동하는<br /> Cast&lt;TResult&gt;(IQueryable) 및<br /> OfType&lt;TResult&gt;(IQueryable)의<br /> 두 가지 유사한 메서드를 정의.</ul><li>표준 쿼리 연산자는 반환값에따라 실행되는 타이밍이 다름.<ul><li>단일 값 또는 시퀀스가 있음.<li>singleton 값(예: Average 및 Sum)을 반환하는 메서드는 즉시 실행.<li>시퀀스를 반환하는 메서드는 쿼리<br /> 실행을 지연하고 열거 가능한 개체를 반환.</ul><li>IEnumerable&lt;T&gt;을 확장하는 메서드<ul><li>메모리 내 컬렉션에 대해 작동하는 메서드<li>반환된 열거 가능한 개체는 메서드에 전달된 인수를 캡처.<li>해당 개체를 열거하는 경우<br /> 쿼리 연산자의 논리가 사용되며<br /> 쿼리 결과가 반환.</ul><li>IQueryable&lt;T&gt;을 확장하는 메서드<ul><li>쿼리 동작을 구현하지 않음.<li>수행할 쿼리를 나타내는 식 트리를 빌드.<li>쿼리 처리는 IQueryable&lt;T&gt; 개체에 의해 처리.</ul><li><p>쿼리 메서드에 대한 호출을 하나의 쿼리로 함께 연결할 수 있으므로<br /> 쿼리가 임의로 복잡해질 수 있다.</p><li>식 / 연산자 비교<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="kt">string</span> <span class="n">sentence</span> <span class="p">=</span> <span class="s">"the quick brown fox jumps over the lazy dog"</span><span class="p">;</span>  
<span class="c1">// Split the string into individual words to create a collection.  </span>
<span class="kt">string</span><span class="p">[]</span> <span class="n">words</span> <span class="p">=</span> <span class="n">sentence</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="sc">' '</span><span class="p">);</span>  
    
<span class="c1">// Using query expression syntax.  </span>
<span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> 
    <span class="k">from</span> <span class="n">word</span> <span class="k">in</span> <span class="n">words</span>  
    <span class="k">group</span> <span class="n">word</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">()</span> <span class="k">by</span> <span class="n">word</span><span class="p">.</span><span class="n">Length</span> <span class="k">into</span> <span class="n">gr</span>  
    <span class="k">orderby</span> <span class="n">gr</span><span class="p">.</span><span class="n">Key</span>  
    <span class="k">select</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Length</span> <span class="p">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span> <span class="n">Words</span> <span class="p">=</span> <span class="n">gr</span> <span class="p">};</span>  
    
<span class="c1">// Using method-based query syntax.  </span>
<span class="kt">var</span> <span class="n">query2</span> <span class="p">=</span> 
    <span class="n">words</span><span class="p">.</span>  
    <span class="nf">GroupBy</span><span class="p">(</span><span class="n">w</span> <span class="p">=&gt;</span> <span class="n">w</span><span class="p">.</span><span class="n">Length</span><span class="p">,</span> <span class="n">w</span> <span class="p">=&gt;</span> <span class="n">w</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">()).</span>  
    <span class="nf">Select</span><span class="p">(</span><span class="n">g</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Length</span> <span class="p">=</span> <span class="n">g</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span> <span class="n">Words</span> <span class="p">=</span> <span class="n">g</span> <span class="p">}).</span>  
    <span class="nf">OrderBy</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>  
    
<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">obj</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>  
<span class="p">{</span>  
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Words of length {0}:"</span><span class="p">,</span> <span class="n">obj</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>  
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">word</span> <span class="k">in</span> <span class="n">obj</span><span class="p">.</span><span class="n">Words</span><span class="p">)</span>  
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>  
<span class="p">}</span>  
    
<span class="c1">// This code example produces the following output:  </span>
<span class="c1">//  </span>
<span class="c1">// Words of length 3:  </span>
<span class="c1">// THE  </span>
<span class="c1">// FOX  </span>
<span class="c1">// THE  </span>
<span class="c1">// DOG  </span>
<span class="c1">// Words of length 4:  </span>
<span class="c1">// OVER  </span>
<span class="c1">// LAZY  </span>
<span class="c1">// Words of length 5:  </span>
<span class="c1">// QUICK  </span>
<span class="c1">// BROWN  </span>
<span class="c1">// JUMPS</span>

</pre></table></code></div></div><li>분류<ul><li>Sorting Data<li>Set Operations<li>Filtering Data<li>Quantifier Operations<li>Projection Operations<li>Partitioning Data<li>Join Operations<li>Grouping Data<li>Generation Operations<li>Equality Operations<li>Element Operations<li>Converting Data Types<li>Concatenation Operations<li>Aggregation Operations</ul></ul><h2 id="sorting-datac">Sorting Data(C#)<a href="#sorting-datac" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>하나 이상의 특성을 기준으로 시퀀스의 요소를 정렬.<li>첫 번째 정렬 기준은 요소에 대해 기본 정렬을 수행.<li>두 번째 정렬 기준을 지정하면 각 기본 정렬 그룹 내의 요소를 정렬.</ul><h3 id="메서드">메서드<a href="#메서드" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>OrderBy<td>값을 오름차순으로 정렬.<td>orderby<td>Enumerable.OrderBy<br />Queryable.OrderBy<tr><td>OrderByDescending<td>값을 내림차순으로 정렬.<td>orderby … descending<td>Enumerable.OrderByDescending<br />Queryable.OrderByDescending<tr><td>ThenBy<td>2차 정렬을 오름차순으로 정렬.<td>orderby …, …<td>Enumerable.ThenBy<br />Queryable.ThenBy<tr><td>ThenByDescending<td>2차 정렬을 내림차순으로 정렬.<td>orderby …, … descending<td>Enumerable.ThenByDescending<br />Queryable.ThenByDescending<tr><td>Reverse<td>컬렉션에서 요소의 순서를 반대로 정렬.<td>해당 사항 없음.<td>Enumerable.Reverse<br />Queryable.Reverse</table></div><li>OrderBy<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">OrderByEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">pets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1</span> <span class="p">}</span> <span class="p">};</span>

    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>  
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">);</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>  
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">);</span>
      
    <span class="k">foreach</span> <span class="p">(</span><span class="n">Pet</span> <span class="n">pet</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"{0} - {1}"</span><span class="p">,</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/*
This code produces the following output:

Whiskers - 1
Boots - 4
Barley - 8
*/</span>
</pre></table></code></div></div><li>OrderByDescending<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// This IComparer class sorts by the fractional part of the decimal number.</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">SpecialComparer</span> <span class="p">:</span> <span class="n">IComparer</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Compare two decimal numbers by their fractional parts.</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="d1"&gt;The first decimal to compare.&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="d2"&gt;The second decimal to compare.&lt;/param&gt;</span>
    <span class="c1">/// &lt;returns&gt;1 if the first decimal's fractional part</span>
    <span class="c1">/// is greater than the second decimal's fractional part,</span>
    <span class="c1">/// -1 if the first decimal's fractional</span>
    <span class="c1">/// part is less than the second decimal's fractional part,</span>
    <span class="c1">/// or the result of calling Decimal.Compare()</span>
    <span class="c1">/// if the fractional parts are equal.&lt;/returns&gt;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="nf">Compare</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">d1</span><span class="p">,</span> <span class="kt">decimal</span> <span class="n">d2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">decimal</span> <span class="n">fractional1</span><span class="p">,</span> <span class="n">fractional2</span><span class="p">;</span>

        <span class="c1">// Get the fractional part of the first number.</span>
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="n">fractional1</span> <span class="p">=</span> <span class="kt">decimal</span><span class="p">.</span><span class="nf">Remainder</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="kt">decimal</span><span class="p">.</span><span class="nf">Floor</span><span class="p">(</span><span class="n">d1</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">DivideByZeroException</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">fractional1</span> <span class="p">=</span> <span class="n">d1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// Get the fractional part of the second number.</span>
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="n">fractional2</span> <span class="p">=</span> <span class="kt">decimal</span><span class="p">.</span><span class="nf">Remainder</span><span class="p">(</span><span class="n">d2</span><span class="p">,</span> <span class="kt">decimal</span><span class="p">.</span><span class="nf">Floor</span><span class="p">(</span><span class="n">d2</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">DivideByZeroException</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">fractional2</span> <span class="p">=</span> <span class="n">d2</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">fractional1</span> <span class="p">==</span> <span class="n">fractional2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Decimal</span><span class="p">.</span><span class="nf">Compare</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">);</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">fractional1</span> <span class="p">&gt;</span> <span class="n">fractional2</span><span class="p">)</span>
            <span class="k">return</span> <span class="m">1</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">OrderByDescendingEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;</span> <span class="n">decimals</span> <span class="p">=</span>
        <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">6.2</span><span class="n">m</span><span class="p">,</span> <span class="m">8.3</span><span class="n">m</span><span class="p">,</span> <span class="m">0.5</span><span class="n">m</span><span class="p">,</span> <span class="m">1.3</span><span class="n">m</span><span class="p">,</span> <span class="m">6.3</span><span class="n">m</span><span class="p">,</span> <span class="m">9.7</span><span class="n">m</span> <span class="p">};</span>

    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">decimals</span>
        <span class="p">.</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">num</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">,</span> <span class="k">new</span> <span class="nf">SpecialComparer</span><span class="p">());</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">decimals</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">num</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">,</span> <span class="k">new</span> <span class="nf">SpecialComparer</span><span class="p">());</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">decimal</span> <span class="n">num</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

9.7
0.5
8.3
6.3
1.3
6.2
*/</span>
</pre></table></code></div></div><li>ThenBy<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"grape"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> 
                    <span class="s">"mango"</span><span class="p">,</span> <span class="s">"orange"</span><span class="p">,</span> <span class="s">"raspberry"</span><span class="p">,</span> 
                    <span class="s">"apple"</span><span class="p">,</span> <span class="s">"blueberry"</span> <span class="p">};</span>

<span class="c1">// Sort the strings first by their length and then</span>
<span class="c1">//alphabetically by passing the identity selector function.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ThenBy</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ThenBy</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    apple
    grape
    mango
    banana
    orange
    blueberry
    raspberry
    passionfruit
*/</span>
</pre></table></code></div></div><li>ThenByDescending<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">CaseInsensitiveComparer</span> <span class="p">:</span> <span class="n">IComparer</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="nf">Compare</span><span class="p">(</span><span class="kt">string</span> <span class="n">x</span><span class="p">,</span> <span class="kt">string</span> <span class="n">y</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Compare</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ThenByDescendingEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apPLe"</span><span class="p">,</span> <span class="s">"baNanA"</span><span class="p">,</span> <span class="s">"apple"</span><span class="p">,</span> 
                      <span class="s">"APple"</span><span class="p">,</span> <span class="s">"orange"</span><span class="p">,</span> <span class="s">"BAnana"</span><span class="p">,</span> 
                      <span class="s">"ORANGE"</span><span class="p">,</span> <span class="s">"apPLE"</span> <span class="p">};</span>

    <span class="c1">// Sort the strings first ascending by their length and</span>
    <span class="c1">// then descending using a custom case insensitive comparer.</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span> 
        <span class="n">fruits</span>
        <span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">ThenByDescending</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">,</span> <span class="k">new</span> <span class="nf">CaseInsensitiveComparer</span><span class="p">());</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span> 
        <span class="n">fruits</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">ThenByDescending</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">,</span> <span class="k">new</span> <span class="nf">CaseInsensitiveComparer</span><span class="p">());</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    apPLe
    apple
    APple
    apPLE
    orange
    ORANGE
    baNanA
    BAnana
*/</span>
</pre></table></code></div></div><li>Reverse<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kt">char</span><span class="p">[]</span> <span class="n">apple</span> <span class="p">=</span> <span class="p">{</span> <span class="sc">'a'</span><span class="p">,</span> <span class="sc">'p'</span><span class="p">,</span> <span class="sc">'p'</span><span class="p">,</span> <span class="sc">'l'</span><span class="p">,</span> <span class="sc">'e'</span> <span class="p">};</span>

<span class="kt">char</span><span class="p">[]</span> <span class="n">reversed</span> <span class="p">=</span> <span class="n">apple</span><span class="p">.</span><span class="nf">Reverse</span><span class="p">().</span><span class="nf">ToArray</span><span class="p">();</span>
<span class="n">IQueryable</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">&gt;</span> <span class="n">reversed</span> <span class="p">=</span> <span class="n">apple</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">().</span><span class="nf">Reverse</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">char</span> <span class="n">chr</span> <span class="k">in</span> <span class="n">reversed</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">chr</span> <span class="p">+</span> <span class="s">" "</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">();</span>

<span class="cm">/*
This code produces the following output:

e l p p a
*/</span>
</pre></table></code></div></div></ul><h2 id="set-operations">Set Operations<a href="#set-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>동일 컬렉션이나 별개 컬렉션(또는 집합)에<br /> 동등한 요소가 있는지 여부에 따라<br /> 결과 집합을 생성하는 쿼리 작업.</ul><h3 id="메서드-1">메서드<a href="#메서드-1" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>Distinct<td>컬렉션에서 중복 값을 제거.<td>해당 사항 없음.<td>Enumerable.Distinct<br />Queryable.Distinct<tr><td>Except<td>두 번째 컬렉션에 표시되지 않는<br />한 컬렉션의 요소를 의미하는<br /> 차집합을 반환.<td>해당 사항 없음.<td>Enumerable.Except<br />Queryable.Except<tr><td>Intersect<td>두 컬렉션에 공통으로 표시되는<br /> 교집합을 반환.<td>해당 사항 없음.<td>Enumerable.Intersect<br />Queryable.Intersect<tr><td>Union<td>두 컬렉션 모두 포함한<br /> 합집합을 반환.<td>해당 사항 없음.<td>Enumerable.Union<br />Queryable.Union</table></div><li>Distinct<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">ages</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">21</span><span class="p">,</span> <span class="m">46</span><span class="p">,</span> <span class="m">46</span><span class="p">,</span> <span class="m">55</span><span class="p">,</span> <span class="m">17</span><span class="p">,</span> <span class="m">21</span><span class="p">,</span> <span class="m">55</span><span class="p">,</span> <span class="m">55</span> <span class="p">};</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">distinctAges</span> <span class="p">=</span> <span class="n">ages</span><span class="p">.</span><span class="nf">Distinct</span><span class="p">();</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">distinctAges</span> <span class="p">=</span> <span class="n">ages</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">().</span><span class="nf">Distinct</span><span class="p">();</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Distinct ages:"</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">age</span> <span class="k">in</span> <span class="n">distinctAges</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">age</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

Distinct ages:
21
46
55
17
*/</span>
</pre></table></code></div></div><li>Except<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kt">double</span><span class="p">[]</span> <span class="n">numbers1</span> <span class="p">=</span> <span class="p">{</span> <span class="m">2.0</span><span class="p">,</span> <span class="m">2.0</span><span class="p">,</span> <span class="m">2.1</span><span class="p">,</span> <span class="m">2.2</span><span class="p">,</span> <span class="m">2.3</span><span class="p">,</span> <span class="m">2.3</span><span class="p">,</span> <span class="m">2.4</span><span class="p">,</span> <span class="m">2.5</span> <span class="p">};</span>
<span class="kt">double</span><span class="p">[]</span> <span class="n">numbers2</span> <span class="p">=</span> <span class="p">{</span> <span class="m">2.2</span> <span class="p">};</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">double</span><span class="p">&gt;</span> <span class="n">onlyInFirstSet</span> <span class="p">=</span> 
    <span class="n">numbers1</span>
    <span class="p">.</span><span class="nf">Except</span><span class="p">(</span><span class="n">numbers2</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">double</span><span class="p">&gt;</span> <span class="n">onlyInFirstSet</span> <span class="p">=</span> 
    <span class="n">numbers1</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Except</span><span class="p">(</span><span class="n">numbers2</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">double</span> <span class="n">number</span> <span class="k">in</span> <span class="n">onlyInFirstSet</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>

<span class="cm">/*
This code produces the following output:

2
2.1
2.3
2.4
2.5
*/</span>
</pre></table></code></div></div><li>Intersect<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">id1</span> <span class="p">=</span> <span class="p">{</span> <span class="m">44</span><span class="p">,</span> <span class="m">26</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">30</span><span class="p">,</span> <span class="m">71</span><span class="p">,</span> <span class="m">38</span> <span class="p">};</span>
<span class="kt">int</span><span class="p">[]</span> <span class="n">id2</span> <span class="p">=</span> <span class="p">{</span> <span class="m">39</span><span class="p">,</span> <span class="m">59</span><span class="p">,</span> <span class="m">83</span><span class="p">,</span> <span class="m">47</span><span class="p">,</span> <span class="m">26</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">30</span> <span class="p">};</span>

<span class="c1">// Get the numbers that occur in both arrays (id1 and id2).</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">both</span> <span class="p">=</span> 
    <span class="n">id1</span>
    <span class="p">.</span><span class="nf">Intersect</span><span class="p">(</span><span class="n">id2</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">both</span> <span class="p">=</span> 
    <span class="n">id1</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Intersect</span><span class="p">(</span><span class="n">id2</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">id</span> <span class="k">in</span> <span class="n">both</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    26
    30
*/</span>
</pre></table></code></div></div><li>Union<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">ints1</span> <span class="p">=</span> <span class="p">{</span> <span class="m">5</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">7</span> <span class="p">};</span>
<span class="kt">int</span><span class="p">[]</span> <span class="n">ints2</span> <span class="p">=</span> <span class="p">{</span> <span class="m">8</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span> <span class="p">};</span>

<span class="c1">// Get the set union of the items in the two arrays.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">union</span> <span class="p">=</span> 
    <span class="n">ints1</span>
    <span class="p">.</span><span class="nf">Union</span><span class="p">(</span><span class="n">ints2</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">union</span> <span class="p">=</span> 
    <span class="n">ints1</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Union</span><span class="p">(</span><span class="n">ints2</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">num</span> <span class="k">in</span> <span class="n">union</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"{0} "</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    5 3 9 7 8 6 4 1 0
*/</span>
</pre></table></code></div></div></ul><h2 id="filtering-data">Filtering Data<a href="#filtering-data" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>지정된 조건을 충족하는 요소만 포함하도록 결과 집합을 제한.<li>필터링은 선택이라고도 한다.</ul><h3 id="메서드-2">메서드<a href="#메서드-2" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>OfType<td>지정된 형식으로 캐스트할 수 있는지<br /> 여부에 따라 값을 선택.<td>해당 사항 없음.<td>Enumerable.OfType<br />Queryable.OfType<tr><td>Where<td>조건자 함수를 기반으로 하는 값을 선택.<td>where<td>Enumerable.Where<br />Queryable.Where</table></div><li>OfType<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre><td class="rouge-code"><pre><span class="n">IList</span> <span class="n">fruits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;();</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Mango"</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Orange"</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Apple"</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="m">3.0</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Banana"</span><span class="p">);</span>

<span class="c1">// Apply OfType() to the ArrayList.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query1</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">IQueryable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query1_1</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Elements of type 'string' are:"</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query1</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// The following query shows that the standard query operators such as</span>
<span class="c1">// Where() can be applied to the ArrayList type after calling OfType().</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">().</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"n"</span><span class="p">));</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2_2</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">().</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"n"</span><span class="p">));</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nThe following strings contain 'n':"</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// Elements of type 'string' are:</span>
<span class="c1">// Mango</span>
<span class="c1">// Orange</span>
<span class="c1">// Apple</span>
<span class="c1">// Banana</span>
<span class="c1">//</span>
<span class="c1">// The following strings contain 'n':</span>
<span class="c1">// Mango</span>
<span class="c1">// Orange</span>
<span class="c1">// Banana</span>
</pre></table></code></div></div><li>Where<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">{</span> <span class="m">0</span><span class="p">,</span> <span class="m">30</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="m">15</span><span class="p">,</span> <span class="m">90</span><span class="p">,</span> <span class="m">85</span><span class="p">,</span> <span class="m">40</span><span class="p">,</span> <span class="m">75</span> <span class="p">};</span>

<span class="c1">// Get all the numbers that are less than or equal to</span>
<span class="c1">// the product of their index in the array and 10.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">((</span><span class="n">number</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">number</span> <span class="p">&lt;=</span> <span class="n">index</span> <span class="p">*</span> <span class="m">10</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">((</span><span class="n">number</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">number</span> <span class="p">&lt;=</span> <span class="n">index</span> <span class="p">*</span> <span class="m">10</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">number</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    0
    20
    15
    40
*/</span>
</pre></table></code></div></div></ul><h2 id="quantifier-operations">Quantifier Operations<a href="#quantifier-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>수량자 작업은 시퀀스에서 조건을 충족하는 요소가<br /> 일부인지 전체인지를 나타내는 Boolean 값.</ul><h3 id="메서드-3">메서드<a href="#메서드-3" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>All<td>모든 요소가 조건을 만족하는지를 확인.<td>해당 사항 없음.<td>Enumerable.All<br />Queryable.All<tr><td>Any<td>임의의 요소가 조건을 만족하는지를 확인.<td>해당 사항 없음.<td>Enumerable.Any<br />Queryable.Any<tr><td>Contains<td>지정된 요소가 들어 있는지를 확인.<td>해당 사항 없음.<td>Enumerable.Contains<br />Queryable.Contains</table></div><li>All<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">AllEx2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">people</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span>
    <span class="p">{</span> 
        <span class="k">new</span> <span class="n">Person</span> 
        <span class="p">{</span> 
          <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Haas"</span><span class="p">,</span>
          <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
          <span class="p">{</span> 
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">10</span> <span class="p">},</span>
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">14</span> <span class="p">},</span>
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">6</span> <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="n">Person</span> 
        <span class="p">{</span> 
          <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Fakhouri"</span><span class="p">,</span>
          <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
          <span class="p">{</span>
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Snowball"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">1</span><span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="n">Person</span> 
        <span class="p">{</span> 
          <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Antebi"</span><span class="p">,</span>
          <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
          <span class="p">{</span> 
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Belle"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">8</span><span class="p">}</span> 
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="n">Person</span> 
        <span class="p">{</span> 
          <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Philips"</span><span class="p">,</span>
          <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
          <span class="p">{</span> 
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Sweetie"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">2</span><span class="p">},</span>
            <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Rover"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">13</span><span class="p">}</span>
          <span class="p">}</span> 
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="c1">// Determine which people have pets that are all older than 5.</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">p</span> <span class="p">=</span> 
        <span class="n">people</span>
        <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">All</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="m">5</span><span class="p">));</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">p</span> <span class="p">=</span> 
        <span class="n">people</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">All</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="m">5</span><span class="p">));</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">pp</span> <span class="k">in</span> <span class="n">p</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">pp</span><span class="p">.</span><span class="n">LastName</span><span class="p">);</span>
    <span class="p">}</span>
      
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">names</span> <span class="p">=</span> 
        <span class="k">from</span> <span class="n">person</span> <span class="k">in</span> <span class="n">people</span>
        <span class="k">where</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">All</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="m">5</span><span class="p">)</span>
        <span class="k">select</span> <span class="n">person</span><span class="p">.</span><span class="n">LastName</span><span class="p">;</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">names</span> <span class="p">=</span> 
        <span class="k">from</span> <span class="n">person</span> <span class="k">in</span> <span class="n">people</span>
        <span class="k">where</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">().</span><span class="nf">All</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="m">5</span><span class="p">)</span>
        <span class="k">select</span> <span class="n">person</span><span class="p">.</span><span class="n">LastName</span><span class="p">;</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">name</span> <span class="k">in</span> <span class="n">names</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/* This code produces the following output:
      * Haas
      * Antebi
      * Haas
      * Antebi
      */</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">LastName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Pet</span><span class="p">[]</span> <span class="n">Pets</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><li>Any<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">AllEx2</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">people</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span>
  <span class="p">{</span> 
    <span class="k">new</span> <span class="n">Person</span> 
    <span class="p">{</span> 
      <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Haas"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
      <span class="p">{</span> 
        <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">10</span> <span class="p">},</span>
        <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">14</span> <span class="p">},</span>
        <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">6</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="k">new</span> <span class="n">Person</span> 
    <span class="p">{</span> 
      <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Fakhouri"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
      <span class="p">{</span> 
        <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Snowball"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">1</span><span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="k">new</span> <span class="n">Person</span> 
    <span class="p">{</span> 
      <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Antebi"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> <span class="p">{</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="k">new</span> <span class="n">Person</span> 
    <span class="p">{</span> 
      <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Philips"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span><span class="p">[]</span> 
      <span class="p">{</span> 
        <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Sweetie"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">2</span><span class="p">},</span>
        <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Rover"</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">13</span><span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">};</span>
            
  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">p</span> <span class="p">=</span> 
      <span class="n">people</span>
      <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">Any</span><span class="p">());</span>
  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">p</span> <span class="p">=</span> 
      <span class="n">people</span>
      <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">().</span><span class="nf">Where</span><span class="p">(</span><span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">Any</span><span class="p">());</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">person</span> <span class="k">in</span> <span class="n">p</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">LastName</span><span class="p">);</span>
  <span class="p">}</span>
    
  <span class="c1">// Determine which people have a non-empty Pet array.</span>
  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">names</span> <span class="p">=</span> 
      <span class="k">from</span> <span class="n">person</span> <span class="k">in</span> <span class="n">people</span>
      <span class="k">where</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">Any</span><span class="p">()</span>
      <span class="k">select</span> <span class="n">person</span><span class="p">.</span><span class="n">LastName</span><span class="p">;</span>
  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">names</span> <span class="p">=</span> 
      <span class="k">from</span> <span class="n">person</span> <span class="k">in</span> <span class="n">people</span>
      <span class="k">where</span> <span class="n">person</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">().</span><span class="nf">Any</span><span class="p">()</span>
      <span class="k">select</span> <span class="n">person</span><span class="p">.</span><span class="n">LastName</span><span class="p">;</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">name</span> <span class="k">in</span> <span class="n">names</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="cm">/* This code produces the following output:

      Haas
      Fakhouri
      Philips
  */</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">LastName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Pet</span><span class="p">[]</span> <span class="n">Pets</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><li>Contains<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span> 
                  <span class="s">"orange"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>
<span class="kt">string</span> <span class="n">fruit</span> <span class="p">=</span> <span class="s">"mango"</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">hasMango</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">hasMango</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>  
    <span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="n">mango</span><span class="p">);</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
    <span class="s">"The array {0} contain '{1}'."</span><span class="p">,</span>
    <span class="n">hasMango</span> <span class="p">?</span> <span class="s">"does"</span> <span class="p">:</span> <span class="s">"does not"</span><span class="p">,</span>
    <span class="n">fruit</span><span class="p">);</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// The array does contain 'mango'.</span>
</pre></table></code></div></div></ul><h2 id="projection-operations">Projection Operations<a href="#projection-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>프로젝션은 주로 이후에 사용할 속성으로만 구성된<br /> 새 양식으로 개체를 변환하는 작업을 가리킵니다.<li>프로젝션을 사용하면 각 개체를 기반으로 만들어지는<br /> 새 형식을 생성할 수 있습니다.<li>속성을 프로젝션하고 속성에서 수학 함수를 수행할 수 있습니다.<li>원래 개체를 변경하지 않고 프로젝션할 수도 있습니다.</ul><h3 id="select-및-selectmany">Select 및 SelectMany<a href="#select-및-selectmany" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>둘 다의 작업은 소스 값에서 결과 값(value (or values))을 생성.<li>Select()는 모든 소스 값에 대해 하나의 결과 값을 생성합니다.<br /> 따라서 전체 결과는 소스 컬렉션과 동일한 개수의 요소가 들어 있는 컬렉션.<li>SelectMany()는 각 소스 값에서 연결된 하위 컬렉션을 포함하는<br /> 하나의 전체 결과를 생성.<li><p>SelectMany()에 대한 인수로 전달되는 변환 함수는<br /> 각 소스 값에 대해 열거 가능한 값 시퀀스를 반환해야 한다.<br /> 이러한 열거 가능한 시퀀스는 SelectMany()에 의해 연결되어<br /> 하나의 큰 시퀀스를 만든다.</p><li>Select - SelectMany<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Bouquet</span>  
<span class="p">{</span>  
  <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">Flowers</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>  
<span class="p">}</span>  

<span class="k">static</span> <span class="k">void</span> <span class="nf">SelectVsSelectMany</span><span class="p">()</span>  
<span class="p">{</span>  
  <span class="n">List</span><span class="p">&lt;</span><span class="n">Bouquet</span><span class="p">&gt;</span> <span class="n">bouquets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Bouquet</span><span class="p">&gt;()</span> <span class="p">{</span>  
      <span class="k">new</span> <span class="n">Bouquet</span><span class="p">{</span> <span class="n">Flowers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">"sunflower"</span><span class="p">,</span> <span class="s">"daisy"</span><span class="p">,</span> <span class="s">"daffodil"</span><span class="p">,</span> <span class="s">"larkspur"</span> <span class="p">}},</span>  
      <span class="k">new</span> <span class="n">Bouquet</span><span class="p">{</span> <span class="n">Flowers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">"tulip"</span><span class="p">,</span> <span class="s">"rose"</span><span class="p">,</span> <span class="s">"orchid"</span> <span class="p">}},</span>  
      <span class="k">new</span> <span class="n">Bouquet</span><span class="p">{</span> <span class="n">Flowers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">"gladiolis"</span><span class="p">,</span> <span class="s">"lily"</span><span class="p">,</span> <span class="s">"snapdragon"</span><span class="p">,</span> <span class="s">"aster"</span><span class="p">,</span> <span class="s">"protea"</span> <span class="p">}},</span>  
      <span class="k">new</span> <span class="n">Bouquet</span><span class="p">{</span> <span class="n">Flowers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">"larkspur"</span><span class="p">,</span> <span class="s">"lilac"</span><span class="p">,</span> <span class="s">"iris"</span><span class="p">,</span> <span class="s">"dahlia"</span> <span class="p">}}</span>  
  <span class="p">};</span>  

  <span class="c1">// *********** Select ***********</span>
  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;&gt;</span> <span class="n">query1</span> <span class="p">=</span> 
      <span class="n">bouquets</span>
      <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">bq</span> <span class="p">=&gt;</span> <span class="n">bq</span><span class="p">.</span><span class="n">Flowers</span><span class="p">);</span>
  <span class="kt">var</span> <span class="n">query1_1</span> <span class="p">=</span> 
      <span class="k">from</span> <span class="n">bq</span> <span class="k">in</span> <span class="n">bouquets</span>
      <span class="k">select</span> <span class="n">bq</span><span class="p">.</span><span class="n">Flowers</span><span class="p">;</span>
    
  <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nResults by using Select(): method"</span><span class="p">);</span>  
  <span class="c1">// Note the extra foreach loop here.  </span>
  <span class="k">foreach</span> <span class="p">(</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">collection</span> <span class="k">in</span> <span class="n">query1</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">item</span> <span class="k">in</span> <span class="n">collection</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
      <span class="p">}</span>  
  <span class="p">}</span>
  <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nResults by using Select(): expression"</span><span class="p">);</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">item</span> <span class="k">in</span> <span class="n">query1_1</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">sitem</span> <span class="k">in</span> <span class="n">item</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">sitem</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>
    
  <span class="c1">// ********* SelectMany *********  </span>
  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2</span> <span class="p">=</span> 
      <span class="n">bouquets</span>
      <span class="p">.</span><span class="nf">SelectMany</span><span class="p">(</span><span class="n">bq</span> <span class="p">=&gt;</span> <span class="n">bq</span><span class="p">.</span><span class="n">Flowers</span><span class="p">);</span>
  <span class="kt">var</span> <span class="n">query2_2</span> <span class="p">=</span> 
      <span class="k">from</span> <span class="n">bq</span> <span class="k">in</span> <span class="n">bouquets</span>
      <span class="k">from</span> <span class="n">fl</span> <span class="k">in</span> <span class="n">bq</span><span class="p">.</span><span class="n">Flowers</span>
      <span class="k">select</span> <span class="n">fl</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">query2_3</span> <span class="p">=</span> 
      <span class="k">from</span> <span class="n">bq</span> <span class="k">in</span> <span class="n">bouquets</span>
      <span class="k">select</span> <span class="n">bq</span><span class="p">.</span><span class="n">Flowers</span> <span class="k">into</span> <span class="n">fl</span>
      <span class="k">from</span> <span class="n">f</span> <span class="k">in</span> <span class="n">fl</span>
      <span class="k">select</span> <span class="n">f</span><span class="p">;</span>
    
  <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nResults by using SelectMany(): method"</span><span class="p">);</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">item</span> <span class="k">in</span> <span class="n">query2</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nResults by using SelectMany(): expression1"</span><span class="p">);</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">item</span> <span class="k">in</span> <span class="n">query2_2</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nResults by using SelectMany(): expression2"</span><span class="p">);</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">item</span> <span class="k">in</span> <span class="n">query2_3</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
  <span class="p">}</span>
<span class="cm">/*
Results by using Select(): method
sunflower
daisy
daffodil
larkspur
tulip
rose
orchid
gladiolis
lily
snapdragon
aster
protea
larkspur
lilac
iris
dahlia

Results by using Select(): expression
sunflower
daisy
daffodil
larkspur
tulip
rose
orchid
gladiolis
lily
snapdragon
aster
protea
larkspur
lilac
iris
dahlia

Results by using SelectMany(): method
sunflower
daisy
daffodil
larkspur
tulip
rose
orchid
gladiolis
lily
snapdragon
aster
protea
larkspur
lilac
iris
dahlia

Results by using SelectMany(): expression1
sunflower
daisy
daffodil
larkspur
tulip
rose
orchid
gladiolis
lily
snapdragon
aster
protea
larkspur
lilac
iris
dahlia

Results by using SelectMany(): expression2
sunflower
daisy
daffodil
larkspur
tulip
rose
orchid
gladiolis
lily
snapdragon
aster
protea
larkspur
lilac
iris
dahlia
*/</span>
</pre></table></code></div></div><ul><li>비교하자면 이런 차이.<li>select로 나올 수 있는 결과값이<br /> 각각 단일 개체가 아닌<br /> 하위에 다시 컬렉션 형태를 갖고있는 경우<br /> SelectMany로 묶어 한번에 표현.<li>expression에서는 다중 from 으로 표현하던가<br /> 쿼리결과를 다중으로 반복문을 써서 검색.</ul></ul><h3 id="메서드-4">메서드<a href="#메서드-4" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>Select<td>변환 함수를 기반으로 하는 값을 프로젝션.<td>select<td>Enumerable.Select<br />Queryable.Select<tr><td>SelectMany<td>변환 함수를 기반으로 하는 값의 시퀀스를 프로젝션한 다음<br />하나의 시퀀스로 평면화합.<td>여러 from 절 사용<td>Enumerable.SelectMany<br />Queryable.SelectMany</table></div><li>Select<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span> 
                    <span class="s">"orange"</span><span class="p">,</span><span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>

<span class="c1">// Project an anonymous type that contains the</span>
<span class="c1">// index of the string in the source array, and</span>
<span class="c1">// a string that contains the same number of characters</span>
<span class="c1">// as the string's index in the source array.</span>
<span class="kt">var</span> <span class="n">query</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">((</span><span class="n">fruit</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">index</span><span class="p">,</span> <span class="n">str</span> <span class="p">=</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">});</span>
<span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">((</span><span class="n">fruit</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">index</span><span class="p">,</span> <span class="n">str</span> <span class="p">=</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">});</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">obj</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"{0}"</span><span class="p">,</span> <span class="n">obj</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    { index = 0, str =  }
    { index = 1, str = b }
    { index = 2, str = ma }
    { index = 3, str = ora }
    { index = 4, str = pass }
    { index = 5, str = grape }
*/</span>
</pre></table></code></div></div><li>SelectMany<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">PetOwner</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">Pets</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SelectManyEx2</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">PetOwner</span><span class="p">[]</span> <span class="n">petOwners</span> <span class="p">=</span> 
  <span class="p">{</span> 
    <span class="k">new</span> <span class="n">PetOwner</span> 
    <span class="p">{</span> 
      <span class="n">Name</span><span class="p">=</span><span class="s">"Higa, Sidney"</span><span class="p">,</span> 
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;{</span> <span class="s">"Scruffy"</span><span class="p">,</span> <span class="s">"Sam"</span> <span class="p">}</span> 
    <span class="p">},</span>
    <span class="k">new</span> <span class="n">PetOwner</span> 
    <span class="p">{</span>
      <span class="n">Name</span><span class="p">=</span><span class="s">"Ashkenazi, Ronen"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;{</span> <span class="s">"Walker"</span><span class="p">,</span> <span class="s">"Sugar"</span> <span class="p">}</span> 
    <span class="p">},</span>
    <span class="k">new</span> <span class="n">PetOwner</span> 
    <span class="p">{</span> 
      <span class="n">Name</span><span class="p">=</span><span class="s">"Price, Vernette"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;{</span> <span class="s">"Scratches"</span><span class="p">,</span> <span class="s">"Diesel"</span> <span class="p">}</span> 
    <span class="p">},</span>
    <span class="k">new</span> <span class="n">PetOwner</span> 
    <span class="p">{</span> 
      <span class="n">Name</span><span class="p">=</span><span class="s">"Hines, Patrick"</span><span class="p">,</span>
      <span class="n">Pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;{</span> <span class="s">"Dusty"</span> <span class="p">}</span> 
    <span class="p">}</span> 
  <span class="p">};</span>

    <span class="c1">// For each PetOwner element in the source array,</span>
    <span class="c1">// project a sequence of strings where each string</span>
    <span class="c1">// consists of the index of the PetOwner element in the</span>
    <span class="c1">// source array and the name of each pet in PetOwner.Pets.</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">petOwners</span>
        <span class="p">.</span><span class="nf">SelectMany</span>
        <span class="p">(</span>
          <span class="p">(</span><span class="n">petOwner</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> 
          <span class="n">petOwner</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">index</span> <span class="p">+</span> <span class="n">pet</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">petOwners</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">SelectMany</span>
        <span class="p">(</span>
          <span class="p">(</span><span class="n">petOwner</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> 
          <span class="n">petOwner</span><span class="p">.</span><span class="n">Pets</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">index</span> <span class="p">+</span> <span class="n">pet</span><span class="p">)</span>
        <span class="p">);</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">pet</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">pet</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// 0Scruffy</span>
<span class="c1">// 0Sam</span>
<span class="c1">// 1Walker</span>
<span class="c1">// 1Sugar</span>
<span class="c1">// 2Scratches</span>
<span class="c1">// 2Diesel</span>
<span class="c1">// 3Dusty</span>
</pre></table></code></div></div></ul><h2 id="partitioning-datac">Partitioning Data(C#)<a href="#partitioning-datac" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>LINQ의 분할은 요소를 다시 정렬한 후<br /> 섹션 중 하나를 반환하지 않고<br /> 입력 시퀀스를 두 개의 섹션으로 나눔.</ul><h3 id="메서드-5">메서드<a href="#메서드-5" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>Skip<td>시퀀스에서 지정한 위치까지 요소를 건너뜀.<td>해당 사항 없음.<td>Enumerable.Skip<br />Queryable.Skip<tr><td>SkipWhile<td>요소가 조건을 충족하지 않을 때까지<br />조건자 함수를 기반으로 하여 요소를 건너뜀.<td>해당 사항 없음.<td>Enumerable.SkipWhile<br />Queryable.SkipWhile<tr><td>Take<td>시퀀스에서 지정된 위치까지 요소를 사용.<td>해당 사항 없음.<td>Enumerable.Take<br />Queryable.Take<tr><td>TakeWhile<td>요소가 조건을 충족하지 않을 때까지<br />조건자 함수를 기반으로 하여 요소를 사용.<td>해당 사항 없음.<td>Enumerable.TakeWhile<br />Queryable.TakeWhile</table></div><li>Skip<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">grades</span> <span class="p">=</span> <span class="p">{</span> <span class="m">59</span><span class="p">,</span> <span class="m">82</span><span class="p">,</span> <span class="m">70</span><span class="p">,</span> <span class="m">56</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">98</span><span class="p">,</span> <span class="m">85</span> <span class="p">};</span>

<span class="c1">// Sort the grades in descending order and</span>
<span class="c1">// get all except the first three.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">lowerGrades</span> <span class="p">=</span>
    <span class="n">grades</span>
    <span class="p">.</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">g</span> <span class="p">=&gt;</span> <span class="n">g</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Skip</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">lowerGrades</span> <span class="p">=</span>
    <span class="n">grades</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">g</span> <span class="p">=&gt;</span> <span class="n">g</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Skip</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"All grades except the top three are:"</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">grade</span> <span class="k">in</span> <span class="n">lowerGrades</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">grade</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    All grades except the top three are:
    82
    70
    59
    56
*/</span>
</pre></table></code></div></div><li>SkipWhile<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">amounts</span> <span class="p">=</span> <span class="p">{</span> <span class="m">5000</span><span class="p">,</span> <span class="m">2500</span><span class="p">,</span> <span class="m">9000</span><span class="p">,</span> <span class="m">8000</span><span class="p">,</span>
                    <span class="m">6500</span><span class="p">,</span> <span class="m">4000</span><span class="p">,</span> <span class="m">1500</span><span class="p">,</span> <span class="m">55000</span> <span class="p">};</span>

<span class="c1">// Skip over amounts in the array until the first amount</span>
<span class="c1">// that is less than or equal to the product of its</span>
<span class="c1">// index in the array and 1000. Take the remaining items.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
    <span class="n">amounts</span>
    <span class="p">.</span><span class="nf">SkipWhile</span><span class="p">((</span><span class="n">amount</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">amount</span> <span class="p">&gt;</span> <span class="n">index</span> <span class="p">*</span> <span class="m">1000</span><span class="p">);</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
    <span class="n">amounts</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">SkipWhile</span><span class="p">((</span><span class="n">amount</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">amount</span> <span class="p">&gt;</span> <span class="n">index</span> <span class="p">*</span> <span class="m">1000</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">amount</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">amount</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    4000
    1500
    55000
*/</span>
</pre></table></code></div></div><ul><li>조건을 충족하면 건너뛰는거에 주의.<li>처음 조건 만족 안하는 개체부터 이후 전부 반영</ul><li>Take<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">grades</span> <span class="p">=</span> <span class="p">{</span> <span class="m">59</span><span class="p">,</span> <span class="m">82</span><span class="p">,</span> <span class="m">70</span><span class="p">,</span> <span class="m">56</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">98</span><span class="p">,</span> <span class="m">85</span> <span class="p">};</span>

<span class="c1">// Sort the grades in descending order and take the first three.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">topThreeGrades</span> <span class="p">=</span>
    <span class="n">grades</span>
    <span class="p">.</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">grade</span> <span class="p">=&gt;</span> <span class="n">grade</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Take</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">topThreeGrades</span> <span class="p">=</span>
    <span class="n">grades</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">grade</span> <span class="p">=&gt;</span> <span class="n">grade</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Take</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The top three grades are:"</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">grade</span> <span class="k">in</span> <span class="n">topThreeGrades</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">grade</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    The top three grades are:
    98
    92
    85
*/</span>
</pre></table></code></div></div><li>TakeWhile<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span> <span class="s">"orange"</span><span class="p">,</span>
                      <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>

<span class="c1">// Take strings from the array until a string</span>
<span class="c1">// that is equal to "orange" is found.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">TakeWhile</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">String</span><span class="p">.</span><span class="nf">Compare</span><span class="p">(</span><span class="s">"orange"</span><span class="p">,</span> <span class="n">fruit</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span> <span class="p">!=</span> <span class="m">0</span><span class="p">);</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">TakeWhile</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">String</span><span class="p">.</span><span class="nf">Compare</span><span class="p">(</span><span class="s">"orange"</span><span class="p">,</span> <span class="n">fruit</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span> <span class="p">!=</span> <span class="m">0</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    apple
    banana
    mango
*/</span>
</pre></table></code></div></div><ul><li>조건을 충족하면 반영에 주의.<li>처음 조건 만족 안하는 개체부터 이후 전부 건너뜀</ul></ul><h2 id="join-operations">Join Operations<a href="#join-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><p>한 데이터 소스의 개체를 공통 특성을 공유하는<br /> 다른 데이터 소스의 개체와 연결.</p><li>서로 간의 관계를 직접 적용할 수 없는<br /> 데이터 원본을 대상으로 하는 쿼리에서는 Join이 중요.<ul><li>객체 지향 프로그래밍에서 이것은<br /> 단방향 관계의 역방향과 같이<br /> 모델링되지 않은 객체 간의 상관 관계를 의미 할 수 있음.<li>단방향 관계의 예로는<br /> Customer 클래스가 City 형식 속성을 포함하는데<br /> City 클래스는 Customer 개체의 컬렉션인 속성을<br /> 포함하지 않는 경우.<li>City 개체 목록이 있는 경우<br /> 각 도시의 모든 고객을 찾으려면<br /> 조인 작업을 사용해야 함.</ul><li>LINQ 프레임워크에 제공되는 조인 메서드는 Join / GroupJoin.<ul><li>키가 같은지 여부에 따라 두 데이터 소스의<br /> 일치 여부를 확인하는 조인인 동등 조인을 수행.<li>비교를 위해 Transact-SQL에서는<br /> ‘같음’이 아닌 ‘보다 작음’ 연산자와 같은<br /> 조인 연산자 지원.<li>Join은 내부 조인을 구현.<br /> 내부 조인은 다른 데이터 집합에 일치하는 항목이 있는 개체만 반환.<li>GroupJoin 메서드는 <br /> 내부 조인 및 왼쪽 우선 외부 조인의 상위 집합 구현.<li>왼쪽 우선 외부 조인은 다른 데이터 소스에 서로 관련된 요소가 없더라도<br /> 첫 번째(왼쪽) 데이터 소스의 각 요소를 반환.</ul></ul><h3 id="메서드-6">메서드<a href="#메서드-6" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>Join<td>키 선택기 함수를 기준으로<br />두 시퀀스를 Join한 다음<br />값 쌍을 추출합니다.<td>join … in … on … equals …<td>Enumerable.Join<br />Queryable.Join<tr><td>GroupJoin<td>키 선택기 함수를 기준으로<br />두 시퀀스를 Join한 다음<br />결과로 생성된 일치 항목을<br />요소마다 그룹화.<td>join … in … on … equals … into …<td>Enumerable.GroupJoin<br />Queryable.GroupJoin</table></div><li>Join<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Person</span> <span class="n">Owner</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">JoinEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Person</span> <span class="n">magnus</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Hedlund, Magnus"</span> <span class="p">};</span>
    <span class="n">Person</span> <span class="n">terry</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Adams, Terry"</span> <span class="p">};</span>
    <span class="n">Person</span> <span class="n">charlotte</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Weiss, Charlotte"</span> <span class="p">};</span>

    <span class="n">Pet</span> <span class="n">barley</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Barley"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">terry</span> <span class="p">};</span>
    <span class="n">Pet</span> <span class="n">boots</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Boots"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">terry</span> <span class="p">};</span>
    <span class="n">Pet</span> <span class="n">whiskers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">charlotte</span> <span class="p">};</span>
    <span class="n">Pet</span> <span class="n">daisy</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Daisy"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">magnus</span> <span class="p">};</span>

    <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">people</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">magnus</span><span class="p">,</span> <span class="n">terry</span><span class="p">,</span> <span class="n">charlotte</span> <span class="p">};</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="n">pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">barley</span><span class="p">,</span> <span class="n">boots</span><span class="p">,</span> <span class="n">whiskers</span><span class="p">,</span> <span class="n">daisy</span> <span class="p">};</span>

    <span class="c1">// Join the list of Person objects and the list of Pet objects</span>
    <span class="c1">// to create a list of person-pet pairs where each element is</span>
    <span class="c1">// an anonymous type that contains the name of pet and the name</span>
    <span class="c1">// of the person that owns the pet.</span>
    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">people</span>
        <span class="p">.</span><span class="nf">Join</span>
        <span class="p">(</span>
          <span class="n">pets</span><span class="p">,</span>
          <span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">,</span>
          <span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span>
          <span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">pet</span><span class="p">)</span> <span class="p">=&gt;</span>
          <span class="k">new</span> <span class="p">{</span> <span class="n">OwnerName</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">Pet</span> <span class="p">=</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span> <span class="p">}</span>
        <span class="p">);</span>
    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> 
        <span class="n">people</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Join</span>
        <span class="p">(</span>
          <span class="n">pets</span><span class="p">,</span>
          <span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">,</span>
          <span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span>
          <span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">pet</span><span class="p">)</span> <span class="p">=&gt;</span>
          <span class="k">new</span> <span class="p">{</span> <span class="n">OwnerName</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">Pet</span> <span class="p">=</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span> <span class="p">}</span>
        <span class="p">);</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">obj</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
            <span class="s">"{0} - {1}"</span><span class="p">,</span>
            <span class="n">obj</span><span class="p">.</span><span class="n">OwnerName</span><span class="p">,</span>
            <span class="n">obj</span><span class="p">.</span><span class="n">Pet</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    Hedlund, Magnus - Daisy
    Adams, Terry - Barley
    Adams, Terry - Boots
    Weiss, Charlotte - Whiskers
*/</span>
</pre></table></code></div></div><li>GroupJoin<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Person</span> <span class="n">Owner</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">GroupJoinEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Person</span> <span class="n">magnus</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Hedlund, Magnus"</span> <span class="p">};</span>
    <span class="n">Person</span> <span class="n">terry</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Adams, Terry"</span> <span class="p">};</span>
    <span class="n">Person</span> <span class="n">charlotte</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Weiss, Charlotte"</span> <span class="p">};</span>

    <span class="n">Pet</span> <span class="n">barley</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Barley"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">terry</span> <span class="p">};</span>
    <span class="n">Pet</span> <span class="n">boots</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Boots"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">terry</span> <span class="p">};</span>
    <span class="n">Pet</span> <span class="n">whiskers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">charlotte</span> <span class="p">};</span>
    <span class="n">Pet</span> <span class="n">daisy</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Daisy"</span><span class="p">,</span> <span class="n">Owner</span> <span class="p">=</span> <span class="n">magnus</span> <span class="p">};</span>

    <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="n">people</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">magnus</span><span class="p">,</span> <span class="n">terry</span><span class="p">,</span> <span class="n">charlotte</span> <span class="p">};</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="n">pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">barley</span><span class="p">,</span> <span class="n">boots</span><span class="p">,</span> <span class="n">whiskers</span><span class="p">,</span> <span class="n">daisy</span> <span class="p">};</span>

    <span class="c1">// Create a list where each element is an anonymous</span>
    <span class="c1">// type that contains a person's name and a collection</span>
    <span class="c1">// of names of the pets that are owned by them.</span>
    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">people</span>
        <span class="p">.</span><span class="nf">GroupJoin</span>
        <span class="p">(</span>
          <span class="n">pets</span><span class="p">,</span>
          <span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">,</span>
          <span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span>
          <span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">petCollection</span><span class="p">)</span> <span class="p">=&gt;</span>
          <span class="k">new</span>
          <span class="p">{</span>
            <span class="n">OwnerName</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span>
            <span class="n">Pets</span> <span class="p">=</span> <span class="n">petCollection</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
          <span class="p">}</span>
        <span class="p">);</span>

    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">people</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">GroupJoin</span>
        <span class="p">(</span>
          <span class="n">pets</span><span class="p">,</span>
          <span class="n">person</span> <span class="p">=&gt;</span> <span class="n">person</span><span class="p">,</span>
          <span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span>
          <span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">petCollection</span><span class="p">)</span> <span class="p">=&gt;</span>
          <span class="k">new</span>
          <span class="p">{</span>
            <span class="n">OwnerName</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span>
            <span class="n">Pets</span> <span class="p">=</span> <span class="n">petCollection</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
          <span class="p">}</span>
        <span class="p">);</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">obj</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Output the owner's name.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"{0}:"</span><span class="p">,</span> <span class="n">obj</span><span class="p">.</span><span class="n">OwnerName</span><span class="p">);</span>
        <span class="c1">// Output each of the owner's pet's names.</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">pet</span> <span class="k">in</span> <span class="n">obj</span><span class="p">.</span><span class="n">Pets</span><span class="p">)</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"  {0}"</span><span class="p">,</span> <span class="n">pet</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    Hedlund, Magnus:
      Daisy
    Adams, Terry:
      Barley
      Boots
    Weiss, Charlotte:
      Whiskers
*/</span>
</pre></table></code></div></div></ul><h2 id="grouping-data">Grouping Data<a href="#grouping-data" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>데이터를 그룹에 넣어<br /> 각 그룹의 요소가 공통 특성을 공유.</ul><h3 id="메서드-7">메서드<a href="#메서드-7" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>GroupBy<td>공통 특성을 공유하는 요소를 그룹화.<br />각 그룹은 IGrouping&lt;TKey,TElement&gt; 개체로 표시.<td>group … by<br />또는<br />group … by … into …<td>Enumerable.GroupBy<br />Queryable.GroupBy<tr><td>ToLookup<td>키 선택기 함수에 따라<br />Lookup&lt;TKey,TElement&gt;(일대다 사전)에 요소를 삽입.<td>해당 사항 없음.<td>Enumerable.ToLookup</table></div><li>GroupBy<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">GroupByEx3</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Create a list of pets.</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="n">petsList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span>
    <span class="p">{</span> 
      <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8.3</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4.9</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1.5</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Daisy"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4.3</span> <span class="p">}</span> 
    <span class="p">};</span>

    <span class="c1">// Group Pet objects by the Math.Floor of their age.</span>
    <span class="c1">// Then project an anonymous type from each group</span>
    <span class="c1">// that consists of the key, the count of the group's</span>
    <span class="c1">// elements, and the minimum and maximum age in the group.</span>
    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> <span class="n">petsList</span><span class="p">.</span><span class="nf">GroupBy</span><span class="p">(</span>
        <span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Floor</span><span class="p">(</span><span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">),</span>
        <span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">pets</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">Key</span> <span class="p">=</span> <span class="n">age</span><span class="p">,</span>
            <span class="n">Count</span> <span class="p">=</span> <span class="n">pets</span><span class="p">.</span><span class="nf">Count</span><span class="p">(),</span>
            <span class="n">Min</span> <span class="p">=</span> <span class="n">pets</span><span class="p">.</span><span class="nf">Min</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">),</span>
            <span class="n">Max</span> <span class="p">=</span> <span class="n">pets</span><span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">)</span>
        <span class="p">});</span>
    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> <span class="n">petsList</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">().</span><span class="nf">GroupBy</span><span class="p">(</span>
        <span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Floor</span><span class="p">(</span><span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">),</span>
        <span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">pets</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">Key</span> <span class="p">=</span> <span class="n">age</span><span class="p">,</span>
            <span class="n">Count</span> <span class="p">=</span> <span class="n">pets</span><span class="p">.</span><span class="nf">Count</span><span class="p">(),</span>
            <span class="n">Min</span> <span class="p">=</span> <span class="n">pets</span><span class="p">.</span><span class="nf">Min</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">),</span>
            <span class="n">Max</span> <span class="p">=</span> <span class="n">pets</span><span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">)</span>
        <span class="p">});</span>

    <span class="c1">// Iterate over each anonymous type.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">result</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nAge group: "</span> <span class="p">+</span> <span class="n">result</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Number of pets in this age group: "</span> <span class="p">+</span> <span class="n">result</span><span class="p">.</span><span class="n">Count</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Minimum age: "</span> <span class="p">+</span> <span class="n">result</span><span class="p">.</span><span class="n">Min</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Maximum age: "</span> <span class="p">+</span> <span class="n">result</span><span class="p">.</span><span class="n">Max</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/*  This code produces the following output:

        Age group: 8
        Number of pets in this age group: 1
        Minimum age: 8.3
        Maximum age: 8.3

        Age group: 4
        Number of pets in this age group: 2
        Minimum age: 4.3
        Maximum age: 4.9

        Age group: 1
        Number of pets in this age group: 1
        Minimum age: 1.5
        Maximum age: 1.5
    */</span>
<span class="p">}</span>
</pre></table></code></div></div><li>ToLookup<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Package</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">long</span> <span class="n">TrackingNumber</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ToLookupEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Create a list of Packages.</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span> <span class="n">packages</span> <span class="p">=</span>
        <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span>
            <span class="p">{</span> <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Coho Vineyard"</span><span class="p">,</span>
                  <span class="n">Weight</span> <span class="p">=</span> <span class="m">25.2</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">89453312L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Lucerne Publishing"</span><span class="p">,</span>
                  <span class="n">Weight</span> <span class="p">=</span> <span class="m">18.7</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">89112755L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wingtip Toys"</span><span class="p">,</span>
                  <span class="n">Weight</span> <span class="p">=</span> <span class="m">6.0</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">299456122L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Contoso Pharmaceuticals"</span><span class="p">,</span>
                  <span class="n">Weight</span> <span class="p">=</span> <span class="m">9.3</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">670053128L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wide World Importers"</span><span class="p">,</span>
                  <span class="n">Weight</span> <span class="p">=</span> <span class="m">33.8</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">4665518773L</span> <span class="p">}</span> <span class="p">};</span>

    <span class="c1">// Create a Lookup to organize the packages.</span>
    <span class="c1">// Use the first character of Company as the key value.</span>
    <span class="c1">// Select Company appended to TrackingNumber</span>
    <span class="c1">// as the element values of the Lookup.</span>
    <span class="n">ILookup</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">lookup</span> <span class="p">=</span>
        <span class="n">packages</span>
        <span class="p">.</span><span class="nf">ToLookup</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToChar</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">Company</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">)),</span>
                  <span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Company</span> <span class="p">+</span> <span class="s">" "</span> <span class="p">+</span> <span class="n">p</span><span class="p">.</span><span class="n">TrackingNumber</span><span class="p">);</span>

    <span class="c1">// Iterate through each IGrouping in the Lookup.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="n">IGrouping</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">packageGroup</span> <span class="k">in</span> <span class="n">lookup</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Print the key value of the IGrouping.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">packageGroup</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span>
        <span class="c1">// Iterate through each value in the</span>
        <span class="c1">// IGrouping and print its value.</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">str</span> <span class="k">in</span> <span class="n">packageGroup</span><span class="p">)</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"    {0}"</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

C
    Coho Vineyard 89453312
    Contoso Pharmaceuticals 670053128
L
    Lucerne Publishing 89112755
W
    Wingtip Toys 299456122
    Wide World Importers 4665518773
*/</span>
</pre></table></code></div></div></ul><h2 id="generation-operations업">Generation Operations업<a href="#generation-operations업" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>생성은 값의 새 시퀀스를 만드는 작업.<li>생성을 수행하는 표준 쿼리 연산자 메서드는 다음 섹션에 나열.</ul><h3 id="메서드-8">메서드<a href="#메서드-8" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>DefaultIfEmpty<td>빈 컬렉션을 기본값을 갖는 singleton 컬렉션으로 변환.<td>해당 사항 없음.<td>Enumerable.DefaultIfEmpty<br />Queryable.DefaultIfEmpty<tr><td>Empty<td>비어 있는 컬렉션을 반환.<td>해당 사항 없음.<td>Enumerable.Empty<tr><td>Range<td>일련의 숫자를 포함하는 컬렉션을 생성.<td>해당 사항 없음.<td>Enumerable.Range<tr><td>Repeat<td>반복되는 값이 하나 들어 있는 컬렉션을 생성.<td>해당 사항 없음.<td>Enumerable.Repeat</table></div><li>DefaultIfEmpty<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">DefaultIfEmptyEx1</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// Create a list of Pet objects.</span>
  <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span> <span class="n">pets</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pet</span><span class="p">&gt;</span>
  <span class="p">{</span> 
    <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8</span> <span class="p">},</span>
    <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4</span> <span class="p">},</span>
    <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1</span> <span class="p">}</span> 
  <span class="p">};</span>

  <span class="c1">// This query selects only those pets that are 10 or older.</span>
  <span class="c1">// In case there are no pets that meet that criteria, call</span>
  <span class="c1">// DefaultIfEmpty(). This code passes an (optional) default</span>
  <span class="c1">// value to DefaultIfEmpty().</span>
  <span class="kt">string</span><span class="p">[]</span> <span class="n">oldPets</span> <span class="p">=</span>
    <span class="n">pets</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">DefaultIfEmpty</span><span class="p">(</span><span class="s">"[EMPTY]"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>
  <span class="kt">string</span><span class="p">[]</span> <span class="n">oldPets</span> <span class="p">=</span>
    <span class="n">pets</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">DefaultIfEmpty</span><span class="p">(</span><span class="s">"[EMPTY]"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>

  <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"First query: "</span> <span class="p">+</span> <span class="n">oldPets</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>

  <span class="c1">// This query selects only those pets that are 10 or older.</span>
  <span class="c1">// This code does not call DefaultIfEmpty().</span>
  <span class="kt">string</span><span class="p">[]</span> <span class="n">oldPets2</span> <span class="p">=</span>
    <span class="n">pets</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>

  <span class="kt">string</span><span class="p">[]</span> <span class="n">oldPets2</span> <span class="p">=</span>
    <span class="n">pets</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>

  <span class="c1">// There may be no elements in the array, so directly</span>
  <span class="c1">// accessing element 0 may throw an exception.</span>
  <span class="k">try</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Second query: "</span> <span class="p">+</span> <span class="n">oldPets2</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Second query: An exception was thrown: "</span> <span class="p">+</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><li>Empty<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="c1">//example demonstrates how to use Empty&lt;TResult&gt;() </span>
<span class="c1">//to generate an empty IEnumerable&lt;T&gt;.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;</span> <span class="n">empty</span> <span class="p">=</span> <span class="n">Enumerable</span><span class="p">.</span><span class="n">Empty</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;();</span>
<span class="c1">/////////////////////////////////////////////////////</span>

<span class="kt">string</span><span class="p">[]</span> <span class="n">names1</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"Hartono, Tommy"</span> <span class="p">};</span>
<span class="kt">string</span><span class="p">[]</span> <span class="n">names2</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"Adams, Terry"</span><span class="p">,</span> <span class="s">"Andersen, Henriette Thaulow"</span><span class="p">,</span>
                      <span class="s">"Hedlund, Magnus"</span><span class="p">,</span> <span class="s">"Ito, Shu"</span> <span class="p">};</span>
<span class="kt">string</span><span class="p">[]</span> <span class="n">names3</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"Solanki, Ajay"</span><span class="p">,</span> <span class="s">"Hoeing, Helge"</span><span class="p">,</span>
                      <span class="s">"Andersen, Henriette Thaulow"</span><span class="p">,</span>
                      <span class="s">"Potra, Cristina"</span><span class="p">,</span> <span class="s">"Iallo, Lucio"</span> <span class="p">};</span>

<span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">[</span><span class="k">]&gt;</span> <span class="n">namesList</span> <span class="p">=</span>
    <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">[</span><span class="k">]&gt;</span> <span class="p">{</span> <span class="n">names1</span><span class="p">,</span> <span class="n">names2</span><span class="p">,</span> <span class="n">names3</span> <span class="p">};</span>

<span class="c1">// Only include arrays that have four or more elements</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">allNames</span> <span class="p">=</span>
    <span class="n">namesList</span><span class="p">.</span><span class="nf">Aggregate</span><span class="p">(</span><span class="n">Enumerable</span><span class="p">.</span><span class="n">Empty</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(),</span>
    <span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">next</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">next</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">3</span> <span class="p">?</span> <span class="n">current</span><span class="p">.</span><span class="nf">Union</span><span class="p">(</span><span class="n">next</span><span class="p">)</span> <span class="p">:</span> <span class="n">current</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">name</span> <span class="k">in</span> <span class="n">allNames</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

Adams, Terry
Andersen, Henriette Thaulow
Hedlund, Magnus
Ito, Shu
Solanki, Ajay
Hoeing, Helge
Potra, Cristina
Iallo, Lucio
*/</span>
</pre></table></code></div></div><li>Range<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="c1">// Generate a sequence of integers from 1 to 10</span>
<span class="c1">// and then select their squares.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">squares</span> <span class="p">=</span> <span class="n">Enumerable</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10</span><span class="p">).</span><span class="nf">Select</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span> <span class="p">*</span> <span class="n">x</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">num</span> <span class="k">in</span> <span class="n">squares</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

1
4
9
16
25
36
49
64
81
100
*/</span>
</pre></table></code></div></div><li>Repeat<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">strings</span> <span class="p">=</span>
    <span class="n">Enumerable</span><span class="p">.</span><span class="nf">Repeat</span><span class="p">(</span><span class="s">"I like programming."</span><span class="p">,</span> <span class="m">15</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="n">String</span> <span class="n">str</span> <span class="k">in</span> <span class="n">strings</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
I like programming.
*/</span>
</pre></table></code></div></div></ul><h2 id="equality-operations">Equality Operations<a href="#equality-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>해당 요소가 동일하고 같은 수의 요소를 포함 하는 두 시퀀스는 같은 것으로 간주.</ul><h3 id="메서드-9">메서드<a href="#메서드-9" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>SequenceEqual<td>쌍 단위 방식으로 요소를 비교하여<br />두 시퀀스가 서로 같은지 확인.<td>해당 사항 없음.<td>Enumerable.SequenceEqual<br />Queryable.SequenceEqual</table></div></ul><h2 id="element-operations">Element Operations<a href="#element-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>요소 작업은 시퀀스에서 특정 단일 요소를 반환합니다.</ul><h3 id="메서드-10">메서드<a href="#메서드-10" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>ElementAt<td>컬렉션의 지정된 인덱스에 있는 요소를 반환.<td>해당 사항 없음.<td>Enumerable.ElementAt<br />Queryable.ElementAt<tr><td>ElementAtOrDefault<td>컬렉션의 지정된 인덱스에 있는 요소를 반환하거나<br />인덱스가 범위를 벗어나면 기본값을 반환.<td>해당 사항 없음.<td>Enumerable.ElementAtOrDefault<br />Queryable.ElementAtOrDefault<tr><td>First<td>컬렉션의 첫 번째 요소 또는<br />특정 조건에 맞는 첫 번째 요소를 반환.<td>해당 사항 없음.<td>Enumerable.First<br />Queryable.First<tr><td>FirstOrDefault<td>컬렉션의 첫 번째 요소 또는<br /> 특정 조건에 맞는 첫 번째 요소를 반환.<br />이러한 요소가 없으면 기본값을 반환.<td>해당 사항 없음.<td>Enumerable.FirstOrDefault<br />Queryable.FirstOrDefault<br />Queryable.FirstOrDefault&lt;TSource&gt;(IQueryable&lt;TSource&gt;)<tr><td>Last<td>컬렉션의 마지막 요소 또는<br />특정 조건에 맞는 마지막 요소를 반환.<td>해당 사항 없음.<td>Enumerable.Last<br />Queryable.Last<tr><td>LastOrDefault<td>컬렉션의 마지막 요소 또는<br />특정 조건에 맞는 마지막 요소를 반환.<br /> 이러한 요소가 없으면 기본값을 반환.<td>해당 사항 없음.<td>Enumerable.LastOrDefault<br />Queryable.LastOrDefault<tr><td>Single<td>컬렉션의 유일한 요소 또는<br /> 특정 조건에 맞는 유일한 요소를 반환.<br />반환할 요소가 없거나 두 개 이상 있는 경우<br />InvalidOperationException을 throw.<td>해당 사항 없음.<td>Enumerable.Single<br />Queryable.Single<tr><td>SingleOrDefault<td>컬렉션의 유일한 요소 또는<br />특정 조건에 맞는 유일한 요소를 반환. <br />반환할 요소가 없는 경우 기본값을 반환.<br />반환할 요소가 두 개 이상 있는 경우<br /> InvalidOperationException을 throw.<td>해당 사항 없음.<td>Enumerable.SingleOrDefault<br />Queryable.SingleOrDefault</table></div><li>ElementAt<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">names</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"Hartono, Tommy"</span><span class="p">,</span> <span class="s">"Adams, Terry"</span><span class="p">,</span>
                  <span class="s">"Andersen, Henriette Thaulow"</span><span class="p">,</span>
                  <span class="s">"Hedlund, Magnus"</span><span class="p">,</span> <span class="s">"Ito, Shu"</span> <span class="p">};</span>

<span class="n">Random</span> <span class="n">random</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Random</span><span class="p">(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">Millisecond</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> 
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">ElementAt</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">names</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>
<span class="kt">string</span> <span class="n">name</span> <span class="p">=</span>
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">ElementAt</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">names</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The name chosen at random is '{0}'."</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following sample output.
    Yours may be different due to the use of Random.

    The name chosen at random is 'Ito, Shu'.
*/</span>
</pre></table></code></div></div><li>ElementAtOrDefault<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">names</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"Hartono, Tommy"</span><span class="p">,</span> <span class="s">"Adams, Terry"</span><span class="p">,</span>
                  <span class="s">"Andersen, Henriette Thaulow"</span><span class="p">,</span>
                  <span class="s">"Hedlund, Magnus"</span><span class="p">,</span> <span class="s">"Ito, Shu"</span> <span class="p">};</span>

<span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="m">20</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> 
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">ElementAtOrDefault</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> 
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">ElementAtOrDefault</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
    <span class="s">"The name chosen at index {0} is '{1}'."</span><span class="p">,</span>
    <span class="n">index</span><span class="p">,</span>
    <span class="n">String</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">?</span> <span class="s">"[NONE AT THIS INDEX]"</span> <span class="p">:</span> <span class="n">name</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    The name chosen at index 20 is '[NONE AT THIS INDEX]'.
*/</span>
</pre></table></code></div></div><li>First<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">{</span> <span class="m">9</span><span class="p">,</span> <span class="m">34</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">87</span><span class="p">,</span> <span class="m">435</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">54</span><span class="p">,</span>
                  <span class="m">83</span><span class="p">,</span> <span class="m">23</span><span class="p">,</span> <span class="m">87</span><span class="p">,</span> <span class="m">435</span><span class="p">,</span> <span class="m">67</span><span class="p">,</span> <span class="m">12</span><span class="p">,</span> <span class="m">19</span> <span class="p">};</span>

<span class="c1">// Get the first number in the array that is greater than 80.</span>
<span class="kt">int</span> <span class="n">first</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="n">number</span> <span class="p">=&gt;</span> <span class="n">number</span> <span class="p">&gt;</span> <span class="m">80</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">first</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="n">number</span> <span class="p">=&gt;</span> <span class="n">number</span> <span class="p">&gt;</span> <span class="m">80</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">first</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    92
*/</span>
</pre></table></code></div></div><li>FirstOrDefault<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">names</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"Hartono, Tommy"</span><span class="p">,</span> <span class="s">"Adams, Terry"</span><span class="p">,</span>
                    <span class="s">"Andersen, Henriette Thaulow"</span><span class="p">,</span>
                    <span class="s">"Hedlund, Magnus"</span><span class="p">,</span> <span class="s">"Ito, Shu"</span> <span class="p">};</span>

<span class="c1">// Get the first string in the array that is longer</span>
<span class="c1">// than 20 characters, or the default value for type</span>
<span class="c1">// string (null) if none exists.</span>
<span class="kt">string</span> <span class="n">firstLongName</span> <span class="p">=</span> 
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">FirstOrDefault</span><span class="p">(</span><span class="n">name</span> <span class="p">=&gt;</span> <span class="n">name</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">20</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">firstLongName</span> <span class="p">=</span>
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">FirstOrDefault</span><span class="p">(</span><span class="n">name</span> <span class="p">=&gt;</span> <span class="n">name</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">20</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The first long name is '{0}'."</span><span class="p">,</span> <span class="n">firstLongName</span><span class="p">);</span>

<span class="c1">// Get the first string in the array that is longer</span>
<span class="c1">// than 30 characters, or the default value for type</span>
<span class="c1">// string (null) if none exists.</span>
<span class="kt">string</span> <span class="n">firstVeryLongName</span> <span class="p">=</span> 
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">FirstOrDefault</span><span class="p">(</span><span class="n">name</span> <span class="p">=&gt;</span> <span class="n">name</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">30</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">firstVeryLongName</span> <span class="p">=</span>
    <span class="n">names</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">FirstOrDefault</span><span class="p">(</span><span class="n">name</span> <span class="p">=&gt;</span> <span class="n">name</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">30</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
    <span class="s">"There is {0} name that is longer than 30 characters."</span><span class="p">,</span>
    <span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">firstVeryLongName</span><span class="p">)</span> <span class="p">?</span> <span class="s">"NOT a"</span> <span class="p">:</span> <span class="s">"a"</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    The first long name is 'Andersen, Henriette Thaulow'.
    There is NOT a name that is longer than 30 characters.
*/</span>
</pre></table></code></div></div><li>Last<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">{</span> <span class="m">9</span><span class="p">,</span> <span class="m">34</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">87</span><span class="p">,</span> <span class="m">435</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">54</span><span class="p">,</span>
                    <span class="m">83</span><span class="p">,</span> <span class="m">23</span><span class="p">,</span> <span class="m">87</span><span class="p">,</span> <span class="m">67</span><span class="p">,</span> <span class="m">12</span><span class="p">,</span> <span class="m">19</span> <span class="p">};</span>

<span class="c1">// Get the last number in the array that is greater than 80.</span>
<span class="kt">int</span> <span class="n">last</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">Last</span><span class="p">(</span><span class="n">num</span> <span class="p">=&gt;</span> <span class="n">num</span> <span class="p">&gt;</span> <span class="m">80</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">last</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Last</span><span class="p">(</span><span class="n">num</span> <span class="p">=&gt;</span> <span class="n">num</span> <span class="p">&gt;</span> <span class="m">80</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">last</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    87
*/</span>
</pre></table></code></div></div><li>LastOrDefault<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="kt">double</span><span class="p">[]</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">{</span> <span class="m">49.6</span><span class="p">,</span> <span class="m">52.3</span><span class="p">,</span> <span class="m">51.0</span><span class="p">,</span> <span class="m">49.4</span><span class="p">,</span> <span class="m">50.2</span><span class="p">,</span> <span class="m">48.3</span> <span class="p">};</span>

<span class="c1">// Get the last number in the array that rounds to 50.0,</span>
<span class="c1">// or else the default value for type double (0.0).</span>
<span class="kt">double</span> <span class="n">last50</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">LastOrDefault</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">==</span> <span class="m">50.0</span><span class="p">);</span>
<span class="kt">double</span> <span class="n">last50</span> <span class="p">=</span>
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">LastOrDefault</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">==</span> <span class="m">50.0</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The last number that rounds to 50 is {0}."</span><span class="p">,</span> <span class="n">last50</span><span class="p">);</span>

<span class="c1">// Get the last number in the array that rounds to 40.0,</span>
<span class="c1">// or else the default value for type double (0.0).</span>
<span class="kt">double</span> <span class="n">last40</span> <span class="p">=</span> 
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">LastOrDefault</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">==</span> <span class="m">40.0</span><span class="p">);</span>
<span class="kt">double</span> <span class="n">last40</span> <span class="p">=</span>
    <span class="n">numbers</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">LastOrDefault</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">==</span> <span class="m">40.0</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
    <span class="s">"The last number that rounds to 40 is {0}."</span><span class="p">,</span>
    <span class="n">last40</span> <span class="p">==</span> <span class="m">0.0</span> <span class="p">?</span> <span class="s">"[DOES NOT EXIST]"</span> <span class="p">:</span> <span class="n">last40</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>

<span class="cm">/*
    This code produces the following output:

    The last number that rounds to 50 is 50.2.
    The last number that rounds to 40 is [DOES NOT EXIST].
*/</span>
</pre></table></code></div></div><li>Single<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span>
                      <span class="s">"orange"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>

<span class="c1">// Get the only string in the array whose length is greater than 10.</span>
<span class="kt">string</span> <span class="n">fruit1</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">Single</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">fruit1</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Single</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"First Query: "</span> <span class="p">+</span> <span class="n">fruit1</span><span class="p">);</span>

<span class="k">try</span>
<span class="p">{</span>
    <span class="c1">// Try to get the only string in the array</span>
    <span class="c1">// whose length is greater than 15.</span>
    <span class="kt">string</span> <span class="n">fruit2</span> <span class="p">=</span> 
        <span class="n">fruits</span>
        <span class="p">.</span><span class="nf">Single</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">15</span><span class="p">);</span>
    <span class="kt">string</span> <span class="n">fruit2</span> <span class="p">=</span> 
        <span class="n">fruits</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Single</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">15</span><span class="p">);</span>
      
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Second Query: "</span> <span class="p">+</span> <span class="n">fruit2</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span> <span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">InvalidOperationException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"Second Query: The collection does not contain "</span><span class="p">);</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"exactly one element whose length is greater than 15."</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    First Query: passionfruit
    Second Query: The collection does not contain exactly one
    element whose length is greater than 15.
*/</span>
</pre></table></code></div></div><li>SingleOrDefault<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span>
                      <span class="s">"orange"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>

<span class="c1">// Get the single string in the array whose length is greater</span>
<span class="c1">// than 10, or else the default value for type string (null).</span>
<span class="kt">string</span> <span class="n">fruit1</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">SingleOrDefault</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">fruit1</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">SingleOrDefault</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"First Query: "</span> <span class="p">+</span> <span class="n">fruit1</span><span class="p">);</span>

<span class="c1">// Get the single string in the array whose length is greater</span>
<span class="c1">// than 15, or else the default value for type string (null).</span>
<span class="kt">string</span> <span class="n">fruit2</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">SingleOrDefault</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">15</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">fruit2</span> <span class="p">=</span>
  <span class="n">fruits</span>
  <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
  <span class="p">.</span><span class="nf">SingleOrDefault</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">15</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Second Query: "</span> <span class="p">+</span>
    <span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">fruit2</span><span class="p">)</span> <span class="p">?</span> <span class="s">"No such string!"</span> <span class="p">:</span> <span class="n">fruit2</span><span class="p">));</span>

<span class="cm">/*
    This code produces the following output:

    First Query: passionfruit
    Second Query: No such string!
*/</span>
</pre></table></code></div></div></ul><h2 id="converting-data-types">Converting Data Types<a href="#converting-data-types" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>변환 메서드는 입력 개체의 형식을 변경.<li>LINQ 쿼리의 변환 작업은 다양한 애플리케이션에서 유용.<ul><li>Enumerable.AsEnumerable 메서드는<br /> 표준 쿼리 연산자의 형식 사용자 지정 구현을 숨기는 데 사용.<li>Enumerable.OfType 메서드는<br /> LINQ 쿼리에 대해 매개 변수가 없는 컬렉션을 사용하도록 설정<li>Enumerable.ToArray, Enumerable.ToDictionary,<br /> Enumerable.ToList, Enumerable.ToLookup 메서드는<br /> 쿼리가 열거될 때까지 연기하는 대신<br /> 강제로 쿼리를 즉시 실행하는 데 사용.</ul></ul><h3 id="메서드-11">메서드<a href="#메서드-11" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>이 표에서 이름이 “As”로 시작하는 변환 메서드는<br /> 소스 컬렉션의 정적 형식을 변경하지만 열거하지는 않음.<br /> 이름이 “To”로 시작하는 메서드는 소스 컬렉션을 열거하고<br /> 항목을 해당하는 컬렉션 형식에 삽입.<li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>AsEnumerable<td>IEnumerable&lt;T&gt;로 형식화된 입력을 반환.<td>해당 사항 없음.<td>Enumerable.AsEnumerable<tr><td>AsQueryable<td>(generic)IEnumerable을 (generic)IQueryable로 변환.<td>해당 사항 없음.<td>Queryable.AsQueryable<tr><td>Cast<td>컬렉션의 요소를 지정된 형식으로 캐스트.<td>명시적 형식 범위 변수 사용.<br />예를 들어:<br />from string str in words<td>Enumerable.Cast<br />Queryable.Cast<tr><td>OfType<td>지정된 형식으로 캐스트할 수 있는지 여부에 따라 값을 필터링.<td>해당 사항 없음.<td>Enumerable.OfType<br />Queryable.OfType<tr><td>ToArray<td>컬렉션을 배열로 변환합니다.<br />이 메서드는 쿼리를 강제로 실행.<td>해당 사항 없음.<td>Enumerable.ToArray<tr><td>ToDictionary<td>키 선택기 함수에 따라<br />Dictionary&lt;TKey,TValue&gt;에 요소를 배치.<br />이 메서드는 쿼리를 강제로 실행.<td>해당 사항 없음.<td>Enumerable.ToDictionary<tr><td>ToList<td>컬렉션을 List&lt;T&gt;로 변환.<br />이 메서드는 쿼리를 강제로 실행.<td>해당 사항 없음.<td>Enumerable.ToList<tr><td>ToLookup<td>키 선택기 함수에 따라<br />Lookup&lt;TKey,TElement&gt;(일 대 다 사전)에 요소를 배치.<br />이 메서드는 쿼리를 강제로 실행.<td>해당 사항 없음.<td>Enumerable.ToLookup</table></div><li>AsEnumerable<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="c1">// Custom class.</span>
<span class="k">class</span> <span class="nc">Clump</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="c1">// Custom implementation of Where().</span>
    <span class="k">public</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="nf">Where</span><span class="p">(</span><span class="n">Func</span><span class="p">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;</span> <span class="n">predicate</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"In Clump's implementation of Where()."</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">Enumerable</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">predicate</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">AsEnumerableEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Create a new Clump&lt;T&gt; object.</span>
    <span class="n">Clump</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">fruitClump</span> <span class="p">=</span>
        <span class="k">new</span> <span class="n">Clump</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span>
            <span class="s">"mango"</span><span class="p">,</span> <span class="s">"orange"</span><span class="p">,</span> <span class="s">"blueberry"</span><span class="p">,</span> <span class="s">"grape"</span><span class="p">,</span> <span class="s">"strawberry"</span> <span class="p">};</span>

    <span class="c1">// First call to Where():</span>
    <span class="c1">// Call Clump's Where() method with a predicate.</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query1</span> <span class="p">=</span>
        <span class="n">fruitClump</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"o"</span><span class="p">));</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"query1 has been created.\n"</span><span class="p">);</span>

    <span class="c1">// Second call to Where():</span>
    <span class="c1">// First call AsEnumerable() to hide Clump's Where() method and thereby</span>
    <span class="c1">// force System.Linq.Enumerable's Where() method to be called.</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2</span> <span class="p">=</span>
        <span class="n">fruitClump</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">().</span><span class="nf">Where</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"o"</span><span class="p">));</span>

    <span class="c1">// Display the output.</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"query2 has been created."</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// In Clump's implementation of Where().</span>
<span class="c1">// query1 has been created.</span>
<span class="c1">//</span>
<span class="c1">// query2 has been created.</span>
</pre></table></code></div></div><li>AsQueryable<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">grades</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">78</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">37</span><span class="p">,</span> <span class="m">81</span> <span class="p">};</span>

<span class="c1">// Convert the List to an IQueryable&lt;int&gt;.</span>
<span class="n">IQueryable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">iqueryable</span> <span class="p">=</span> <span class="n">grades</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">();</span>

<span class="c1">// Get the Expression property of the IQueryable object.</span>
<span class="n">System</span><span class="p">.</span><span class="n">Linq</span><span class="p">.</span><span class="n">Expressions</span><span class="p">.</span><span class="n">Expression</span> <span class="n">expressionTree</span> <span class="p">=</span>
    <span class="n">iqueryable</span><span class="p">.</span><span class="n">Expression</span><span class="p">;</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The NodeType of the expression tree is: "</span>
    <span class="p">+</span> <span class="n">expressionTree</span><span class="p">.</span><span class="n">NodeType</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The Type of the expression tree is: "</span>
    <span class="p">+</span> <span class="n">expressionTree</span><span class="p">.</span><span class="n">Type</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>

<span class="cm">/*
    This code produces the following output:

    The NodeType of the expression tree is: Constant
    The Type of the expression tree is: EnumerableQuery`1
*/</span>
</pre></table></code></div></div><li>Cast<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="c1">// Create a list of objects.</span>
<span class="n">List</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span> <span class="n">words</span> <span class="p">=</span>
    <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">"green"</span><span class="p">,</span> <span class="s">"blue"</span><span class="p">,</span> <span class="s">"violet"</span> <span class="p">};</span>

<span class="c1">// Cast the objects in the list to type 'string'</span>
<span class="c1">// and project the first letter of each string.</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query1</span> <span class="p">=</span>
    <span class="n">words</span><span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="n">Cast</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">str</span> <span class="p">=&gt;</span> <span class="n">str</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">));</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2</span> <span class="p">=</span>
    <span class="n">words</span>
    <span class="p">.</span><span class="n">Cast</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">str</span> <span class="p">=&gt;</span> <span class="n">str</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">));</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">s</span> <span class="k">in</span> <span class="n">query1</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>


<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">s</span> <span class="k">in</span> <span class="n">query2</span><span class="p">)</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>

<span class="cm">/*  This code produces the following output:

    g
    b
    v
*/</span>

</pre></table></code></div></div><li>OfType<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre><td class="rouge-code"><pre><span class="n">System</span><span class="p">.</span><span class="n">Collections</span><span class="p">.</span><span class="n">ArrayList</span> <span class="n">fruits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Collections</span><span class="p">.</span><span class="nf">ArrayList</span><span class="p">(</span><span class="m">4</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Mango"</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Orange"</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Apple"</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="m">3.0</span><span class="p">);</span>
<span class="n">fruits</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Banana"</span><span class="p">);</span>

<span class="c1">// Apply OfType() to the ArrayList.</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query1</span> <span class="p">=</span> <span class="n">fruits</span><span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Elements of type 'string' are:"</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query1</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// The following query shows that the standard query operators such as</span>
<span class="c1">// Where() can be applied to the ArrayList type after calling OfType().</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"n"</span><span class="p">));</span>
<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query2</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">().</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"n"</span><span class="p">));</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\nThe following strings contain 'n':"</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">query2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// Elements of type 'string' are:</span>
<span class="c1">// Mango</span>
<span class="c1">// Orange</span>
<span class="c1">// Apple</span>
<span class="c1">// Banana</span>
<span class="c1">//</span>
<span class="c1">// The following strings contain 'n':</span>
<span class="c1">// Mango</span>
<span class="c1">// Orange</span>
<span class="c1">// Banana</span>
</pre></table></code></div></div><li>ToArray<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Package</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ToArrayEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span> <span class="n">packages</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span>
      <span class="p">{</span> <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Coho Vineyard"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">25.2</span> <span class="p">},</span>
        <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Lucerne Publishing"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">18.7</span> <span class="p">},</span>
        <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wingtip Toys"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">6.0</span> <span class="p">},</span>
        <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Adventure Works"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">33.8</span> <span class="p">}</span> <span class="p">};</span>

    <span class="kt">string</span><span class="p">[]</span> <span class="n">companies</span> <span class="p">=</span> <span class="n">packages</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">pkg</span> <span class="p">=&gt;</span> <span class="n">pkg</span><span class="p">.</span><span class="n">Company</span><span class="p">).</span><span class="nf">ToArray</span><span class="p">();</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">company</span> <span class="k">in</span> <span class="n">companies</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">company</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

Coho Vineyard
Lucerne Publishing
Wingtip Toys
Adventure Works
*/</span>
</pre></table></code></div></div><li>ToDictionary<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Package</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">long</span> <span class="n">TrackingNumber</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ToDictionaryEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span> <span class="n">packages</span> <span class="p">=</span>
        <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span>
            <span class="p">{</span> <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Coho Vineyard"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">25.2</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">89453312L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Lucerne Publishing"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">18.7</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">89112755L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wingtip Toys"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">6.0</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">299456122L</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Adventure Works"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">33.8</span><span class="p">,</span> <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">4665518773L</span> <span class="p">}</span> <span class="p">};</span>

    <span class="c1">// Create a Dictionary of Package objects,</span>
    <span class="c1">// using TrackingNumber as the key.</span>
    <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">,</span> <span class="n">Package</span><span class="p">&gt;</span> <span class="n">dictionary</span> <span class="p">=</span>
        <span class="n">packages</span><span class="p">.</span><span class="nf">ToDictionary</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">TrackingNumber</span><span class="p">);</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="n">KeyValuePair</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">,</span> <span class="n">Package</span><span class="p">&gt;</span> <span class="n">kvp</span> <span class="k">in</span> <span class="n">dictionary</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
            <span class="s">"Key {0}: {1}, {2} pounds"</span><span class="p">,</span>
            <span class="n">kvp</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
            <span class="n">kvp</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">Company</span><span class="p">,</span>
            <span class="n">kvp</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">Weight</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

Key 89453312: Coho Vineyard, 25.2 pounds
Key 89112755: Lucerne Publishing, 18.7 pounds
Key 299456122: Wingtip Toys, 6 pounds
Key 4665518773: Adventure Works, 33.8 pounds
*/</span>
</pre></table></code></div></div><li>ToList<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span>
                      <span class="s">"orange"</span><span class="p">,</span> <span class="s">"blueberry"</span><span class="p">,</span> <span class="s">"grape"</span><span class="p">,</span> <span class="s">"strawberry"</span> <span class="p">};</span>

<span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">lengths</span> <span class="p">=</span> <span class="n">fruits</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Length</span><span class="p">).</span><span class="nf">ToList</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">length</span> <span class="k">in</span> <span class="n">lengths</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">length</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

5
12
6
5
6
9
5
10
*/</span>
</pre></table></code></div></div><li>ToLookup<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Package</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">long</span> <span class="n">TrackingNumber</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ToLookupEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Create a list of Packages.</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span> <span class="n">packages</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span>
    <span class="p">{</span> 
      <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> 
        <span class="n">Company</span> <span class="p">=</span> <span class="s">"Coho Vineyard"</span><span class="p">,</span>
        <span class="n">Weight</span> <span class="p">=</span> <span class="m">25.2</span><span class="p">,</span> 
        <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">89453312L</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> 
        <span class="n">Company</span> <span class="p">=</span> <span class="s">"Lucerne Publishing"</span><span class="p">,</span>
        <span class="n">Weight</span> <span class="p">=</span> <span class="m">18.7</span><span class="p">,</span> 
        <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">89112755L</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> 
        <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wingtip Toys"</span><span class="p">,</span>
        <span class="n">Weight</span> <span class="p">=</span> <span class="m">6.0</span><span class="p">,</span> 
        <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">299456122L</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> 
        <span class="n">Company</span> <span class="p">=</span> <span class="s">"Contoso Pharmaceuticals"</span><span class="p">,</span>
        <span class="n">Weight</span> <span class="p">=</span> <span class="m">9.3</span><span class="p">,</span> 
        <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">670053128L</span> <span class="p">},</span>
      <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> 
        <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wide World Importers"</span><span class="p">,</span>
        <span class="n">Weight</span> <span class="p">=</span> <span class="m">33.8</span><span class="p">,</span> 
        <span class="n">TrackingNumber</span> <span class="p">=</span> <span class="m">4665518773L</span> <span class="p">}</span> 
      <span class="p">};</span>

    <span class="c1">// Create a Lookup to organize the packages.</span>
    <span class="c1">// Use the first character of Company as the key value.</span>
    <span class="c1">// Select Company appended to TrackingNumber</span>
    <span class="c1">// as the element values of the Lookup.</span>
    <span class="n">ILookup</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">lookup</span> <span class="p">=</span>
        <span class="n">packages</span>
        <span class="p">.</span><span class="nf">ToLookup</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToChar</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">Company</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">)),</span>
                  <span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Company</span> <span class="p">+</span> <span class="s">" "</span> <span class="p">+</span> <span class="n">p</span><span class="p">.</span><span class="n">TrackingNumber</span><span class="p">);</span>

    <span class="c1">// Iterate through each IGrouping in the Lookup.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="n">IGrouping</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">packageGroup</span> <span class="k">in</span> <span class="n">lookup</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Print the key value of the IGrouping.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">packageGroup</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span>
        <span class="c1">// Iterate through each value in the</span>
        <span class="c1">// IGrouping and print its value.</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">str</span> <span class="k">in</span> <span class="n">packageGroup</span><span class="p">)</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"    {0}"</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*
This code produces the following output:

C
    Coho Vineyard 89453312
    Contoso Pharmaceuticals 670053128
L
    Lucerne Publishing 89112755
W
    Wingtip Toys 299456122
    Wide World Importers 4665518773
*/</span>
</pre></table></code></div></div></ul><h2 id="concatenation-operations">Concatenation Operations<a href="#concatenation-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>연결은 한 시퀀스를 다른 시퀀스에 추가하는 작업.</ul><h3 id="메서드-12">메서드<a href="#메서드-12" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>Concat<td>두 시퀀스를 연결헤 하나의 시퀀스를 구성.<td>해당 사항 없음.<td>Enumerable.Concat<br />Queryable.Concat</table></div><li>Concat<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// This method creates and returns an array of Pet objects.</span>
<span class="k">static</span> <span class="n">Pet</span><span class="p">[]</span> <span class="nf">GetCats</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">cats</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1</span> <span class="p">}</span> <span class="p">};</span>
    <span class="k">return</span> <span class="n">cats</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// This method creates and returns an array of Pet objects.</span>
<span class="k">static</span> <span class="n">Pet</span><span class="p">[]</span> <span class="nf">GetDogs</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">dogs</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Bounder"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">3</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Snoopy"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">14</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Fido"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">9</span> <span class="p">}</span> <span class="p">};</span>
    <span class="k">return</span> <span class="n">dogs</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ConcatEx1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">cats</span> <span class="p">=</span> <span class="nf">GetCats</span><span class="p">();</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">dogs</span> <span class="p">=</span> <span class="nf">GetDogs</span><span class="p">();</span>

    <span class="c1">// Concatenate a collection of cat names to a</span>
    <span class="c1">// collection of dog names by using Concat().</span>
      
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">cats</span>
        <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">cat</span> <span class="p">=&gt;</span> <span class="n">cat</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">Concat</span><span class="p">(</span><span class="n">dogs</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">dog</span> <span class="p">=&gt;</span> <span class="n">dog</span><span class="p">.</span><span class="n">Name</span><span class="p">));</span>
    <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
        <span class="n">cats</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">cat</span> <span class="p">=&gt;</span> <span class="n">cat</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">Concat</span><span class="p">(</span><span class="n">dogs</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">dog</span> <span class="p">=&gt;</span> <span class="n">dog</span><span class="p">.</span><span class="n">Name</span><span class="p">));</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">name</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// Barley</span>
<span class="c1">// Boots</span>
<span class="c1">// Whiskers</span>
<span class="c1">// Bounder</span>
<span class="c1">// Snoopy</span>
<span class="c1">// Fido</span>

<span class="c1">///////////////////////////////////////////////////////////</span>
<span class="c1">// vs selectmany</span>
<span class="n">Pet</span><span class="p">[]</span> <span class="n">cats</span> <span class="p">=</span> <span class="nf">GetCats</span><span class="p">();</span>
<span class="n">Pet</span><span class="p">[]</span> <span class="n">dogs</span> <span class="p">=</span> <span class="nf">GetDogs</span><span class="p">();</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">query</span> <span class="p">=</span>
    <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="n">cats</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">cat</span> <span class="p">=&gt;</span> <span class="n">cat</span><span class="p">.</span><span class="n">Name</span><span class="p">),</span> <span class="n">dogs</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">dog</span> <span class="p">=&gt;</span> <span class="n">dog</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">.</span><span class="nf">SelectMany</span><span class="p">(</span><span class="n">name</span> <span class="p">=&gt;</span> <span class="n">name</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">name</span> <span class="k">in</span> <span class="n">query</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// Barley</span>
<span class="c1">// Boots</span>
<span class="c1">// Whiskers</span>
<span class="c1">// Bounder</span>
<span class="c1">// Snoopy</span>
<span class="c1">// Fido</span>
</pre></table></code></div></div></ul><h2 id="aggregation-operations">Aggregation Operations<a href="#aggregation-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>값의 컬렉션에서 하나의 값을 계산.<li>예를 들어 1달 동안의 일일 온도 값에서 평균 일일 온도를 계산.</ul><h3 id="메서드-13">메서드<a href="#메서드-13" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><div class="table-wrapper"><table><thead><tr><th>이름<th>설명<th>C# 쿼리 식 구문<th>추가 정보<tbody><tr><td>Aggregate<td>컬렉션 값에 대해 사용자 지정 집계 작업을 수행.<td>해당 사항 없음.<td>Enumerable.Aggregate<br />Queryable.Aggregate<tr><td>Average<td>값 컬렉션의 평균 값을 계산.<td>해당 사항 없음.<td>Enumerable.Average<br />Queryable.Average<tr><td>Count<td>컬렉션에서 조건자 함수를 충족하는 개수를 계산.<td>해당 사항 없음.<td>Enumerable.Count<br />Queryable.Count<tr><td>LongCount<td>큰 컬렉션에서 조건자 함수를 충족하는 개수를 계산.<td>해당 사항 없음.<td>Enumerable.LongCount<br />Queryable.LongCount<tr><td>Max<td>컬렉션의 최대값.<td>해당 사항 없음.<td>Enumerable.Max<br />Queryable.Max<tr><td>Min<td>컬렉션의 최소값.<td>해당 사항 없음.<td>Enumerable.Min<br />Queryable.Min<tr><td>Sum<td>컬렉션에 있는 값의 합계.<td>해당 사항 없음.<td>Enumerable.Sum<br />Queryable.Sum</table></div><li>Aggregate<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span> <span class="s">"orange"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>

<span class="c1">// Determine whether any string in the array is longer than "banana".</span>
<span class="c1">// Return the final result as an upper case string.</span>
<span class="kt">string</span> <span class="n">longestName</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">Aggregate</span><span class="p">(</span><span class="s">"banana"</span><span class="p">,</span>
              <span class="p">(</span><span class="n">longest</span><span class="p">,</span> <span class="n">next</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">next</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="n">longest</span><span class="p">.</span><span class="n">Length</span> 
              <span class="p">?</span> <span class="n">next</span> <span class="p">:</span> <span class="n">longest</span><span class="p">,</span> <span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">());</span>

<span class="kt">string</span> <span class="n">longestName</span> <span class="p">=</span>
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Aggregate</span><span class="p">(</span><span class="s">"banana"</span><span class="p">,</span>
              <span class="p">(</span><span class="n">longest</span><span class="p">,</span> <span class="n">next</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">next</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="n">longest</span><span class="p">.</span><span class="n">Length</span> 
              <span class="p">?</span> <span class="n">next</span> <span class="p">:</span> <span class="n">longest</span><span class="p">,</span><span class="n">fruit</span> <span class="p">=&gt;</span> <span class="n">fruit</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">());</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
    <span class="s">"The fruit with the longest name is {0}."</span><span class="p">,</span>
    <span class="n">longestName</span><span class="p">);</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// The fruit with the longest name is PASSIONFRUIT.</span>
</pre></table></code></div></div><li>Average<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kt">string</span><span class="p">[]</span> <span class="n">fruits</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"mango"</span><span class="p">,</span> <span class="s">"orange"</span><span class="p">,</span> <span class="s">"passionfruit"</span><span class="p">,</span> <span class="s">"grape"</span> <span class="p">};</span>

<span class="c1">// Determine the average string length in the array.</span>
<span class="kt">double</span> <span class="n">average</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">Average</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
<span class="kt">double</span> <span class="n">average</span> <span class="p">=</span> 
    <span class="n">fruits</span>
    <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Average</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The average string length is {0}."</span><span class="p">,</span> <span class="n">average</span><span class="p">);</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// The average string length is 6.5.</span>
</pre></table></code></div></div><li>Count<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Vaccinated</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">CountEx2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Create an array of Pet objects.</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">pets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Vaccinated</span><span class="p">=</span><span class="k">true</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Vaccinated</span><span class="p">=</span><span class="k">false</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Vaccinated</span><span class="p">=</span><span class="k">false</span> <span class="p">}</span> <span class="p">};</span>

    <span class="c1">// Count the number of unvaccinated pets in the array.</span>
    <span class="kt">int</span> <span class="n">numberUnvaccinated</span> <span class="p">=</span> 
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">Count</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Vaccinated</span> <span class="p">==</span> <span class="k">false</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">numberUnvaccinated</span> <span class="p">=</span>
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Count</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Vaccinated</span> <span class="p">==</span> <span class="k">false</span><span class="p">);</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
        <span class="s">"There are {0} unvaccinated animals."</span><span class="p">,</span>
        <span class="n">numberUnvaccinated</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This code produces the following output:</span>
<span class="c1">//</span>
<span class="c1">// There are 2 unvaccinated animals.</span>
</pre></table></code></div></div><li>LongCount<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">LongCountEx2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">pets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1</span> <span class="p">}</span> <span class="p">};</span>

    <span class="k">const</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>

    <span class="c1">// Count the number of Pet objects where Pet.Age is greater than 3.</span>
    <span class="kt">long</span> <span class="n">count</span> <span class="p">=</span> 
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">LongCount</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="n">Age</span><span class="p">);</span>
    <span class="kt">long</span> <span class="n">count</span> <span class="p">=</span> 
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">LongCount</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="n">Age</span><span class="p">);</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"There are {0} animals over age {1}."</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">Age</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    There are 2 animals over age 3.
*/</span>
</pre></table></code></div></div><li>Max<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">MaxEx2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">pets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1</span> <span class="p">}</span> <span class="p">};</span>

    <span class="c1">// Add Pet.Age to the length of Pet.Name</span>
    <span class="c1">// to determine the "maximum" Pet object in the array.</span>
    <span class="kt">int</span> <span class="n">max</span> <span class="p">=</span> 
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">+</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">max</span> <span class="p">=</span>
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span> <span class="p">+</span> <span class="n">pet</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span>
        <span class="s">"The maximum pet age plus name length is {0}."</span><span class="p">,</span>
        <span class="n">max</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    The maximum pet age plus name length is 14.
*/</span>
</pre></table></code></div></div><li>Min<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Pet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">MinEx2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Pet</span><span class="p">[]</span> <span class="n">pets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Barley"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">8</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Boots"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">4</span> <span class="p">},</span>
                  <span class="k">new</span> <span class="n">Pet</span> <span class="p">{</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Whiskers"</span><span class="p">,</span> <span class="n">Age</span><span class="p">=</span><span class="m">1</span> <span class="p">}</span> <span class="p">};</span>

    <span class="c1">// Get the Pet object that has the smallest Age value.</span>
    <span class="kt">int</span> <span class="n">min</span> <span class="p">=</span> 
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">Min</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">min</span> <span class="p">=</span> 
        <span class="n">pets</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Min</span><span class="p">(</span><span class="n">pet</span> <span class="p">=&gt;</span> <span class="n">pet</span><span class="p">.</span><span class="n">Age</span><span class="p">);</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The youngest animal is age {0}."</span><span class="p">,</span> <span class="n">min</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    The youngest animal is age 1.
*/</span>
</pre></table></code></div></div><li>Sum<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Package</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Company</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SumEx3</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span> <span class="n">packages</span> <span class="p">=</span>
        <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Package</span><span class="p">&gt;</span>
            <span class="p">{</span> <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Coho Vineyard"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">25.2</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Lucerne Publishing"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">18.7</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Wingtip Toys"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">6.0</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Package</span> <span class="p">{</span> <span class="n">Company</span> <span class="p">=</span> <span class="s">"Adventure Works"</span><span class="p">,</span> <span class="n">Weight</span> <span class="p">=</span> <span class="m">33.8</span> <span class="p">}</span> <span class="p">};</span>

    <span class="c1">// Calculate the sum of all package weights.</span>
    <span class="kt">double</span> <span class="n">totalWeight</span> <span class="p">=</span> 
        <span class="n">packages</span>
        <span class="p">.</span><span class="nf">Sum</span><span class="p">(</span><span class="n">pkg</span> <span class="p">=&gt;</span> <span class="n">pkg</span><span class="p">.</span><span class="n">Weight</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">totalWeight</span> <span class="p">=</span> 
        <span class="n">packages</span>
        <span class="p">.</span><span class="nf">AsQueryable</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">Sum</span><span class="p">(</span><span class="n">pkg</span> <span class="p">=&gt;</span> <span class="n">pkg</span><span class="p">.</span><span class="n">Weight</span><span class="p">);</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"The total weight of the packages is: {0}"</span><span class="p">,</span> <span class="n">totalWeight</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
    This code produces the following output:

    The total weight of the packages is: 83.7
*/</span>
</pre></table></code></div></div></ul><h2 id="참고">참고<a href="#참고" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/programming-guide/concepts/linq/standard-query-operators-overview">표준 쿼리 연산자 개요(C#)</a><li><a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/language-reference/keywords/query-keywords">쿼리 키워드(C# 참조)</a><li><a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/programming-guide/concepts/linq/query-expression-syntax-for-standard-query-operators">표준 쿼리 연산자의 쿼리 식 구문(C#)</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/grind/'>Grind</a>, <a href='/categories/c/'>C#</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >c#</a> <a href="/tags/linq/" class="post-tag no-text-decoration" >linq</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=14. LINQ 2 - Null Section&url=https://psy0231.github.io/posts/CS_14_Linq_2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=14. LINQ 2 - Null Section&u=https://psy0231.github.io/posts/CS_14_Linq_2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=14. LINQ 2 - Null Section&url=https://psy0231.github.io/posts/CS_14_Linq_2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Python_dict/">dict</a><li><a href="/posts/Python_Var_Type/">Variable & Data Type</a><li><a href="/posts/Docker_4_Container_Option/">Docker 4 - Container Option</a><li><a href="/posts/Docker_3_Container/">Docker 3 - Container</a><li><a href="/posts/Docker_2_Image/">Docker 2 - Image</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/asynchronous/">asynchronous</a> <a class="post-tag" href="/tags/data-type/">data type</a> <a class="post-tag" href="/tags/container/">container</a> <a class="post-tag" href="/tags/getting-started/">getting started</a> <a class="post-tag" href="/tags/io/">io</a> <a class="post-tag" href="/tags/logger/">logger</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CS_13_Linq_1/"><div class="card-body"> <em class="timeago small" date="2021-04-06 12:00:00 +0900" >Apr 6, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>13. LINQ 1</h3><div class="text-muted small"><p> LINQ(Language-Integrated Query) 개요 LINQ는 데이터 소스에서 데이터를 쿼리하고 변환하는 데 사용. ex) 단일 쿼리로 SQL 데이터베이스에서 검색하고 XML 출력. 데이터 모델 단순화 관계형 데이터베이스에는 다양한 형식의 데이터 소스에 서로 다른 언어 필요 ...</p></div></div></a></div><div class="card"> <a href="/posts/CS_1_Parameters/"><div class="card-body"> <em class="timeago small" date="2020-03-10 20:00:00 +0900" >Mar 10, 2020</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>1. Parameters</h3><div class="text-muted small"><p> intro method의 parameter에 대해. ref / out에서 계속 확장됨.. params, ref, out, in이 주요내용. params parameter를 가변개수의 변수가 있다고 지정. 1차원 배열만 가능 params뒤에는 추가로 parameter추가가 안됨. 앞에는 상관없음. param키워드는...</p></div></div></a></div><div class="card"> <a href="/posts/CS_2_Action&Func/"><div class="card-body"> <em class="timeago small" date="2020-03-12 12:00:00 +0900" >Mar 12, 2020</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2. Action/Func</h3><div class="text-muted small"><p> Build Up Action/Func - Task - async/await Action basic Encapsulates a method that has no parameters and does not return a value. public delegate void Action(); 그렇다고 한다. 그만알아보...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/CS_13_Linq_1/" class="btn btn-outline-primary" prompt="Older"><p>13. LINQ 1</p></a> <a href="/posts/CS_15_Delegate_Event/" class="btn btn-outline-primary" prompt="Newer"><p>15. Delegate, Event</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://psy0231.github.io/posts/CS_14_Linq_2/'; this.page.identifier = '/posts/CS_14_Linq_2/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://https-psy0231-github-io.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">SooyongPark</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/asynchronous/">asynchronous</a> <a class="post-tag" href="/tags/data-type/">data type</a> <a class="post-tag" href="/tags/container/">container</a> <a class="post-tag" href="/tags/getting-started/">getting started</a> <a class="post-tag" href="/tags/io/">io</a> <a class="post-tag" href="/tags/logger/">logger</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-160640437-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-160640437-1'); }); </script>
