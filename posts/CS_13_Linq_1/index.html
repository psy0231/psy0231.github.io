<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="LINQ 1" /><meta property="og:locale" content="en" /><meta name="description" content="LINQ(Language-Integrated Query)" /><meta property="og:description" content="LINQ(Language-Integrated Query)" /><link rel="canonical" href="https://psy0231.github.io/posts/CS_13_Linq_1/" /><meta property="og:url" content="https://psy0231.github.io/posts/CS_13_Linq_1/" /><meta property="og:site_name" content="Null Section" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-06T12:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="LINQ 1" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"LINQ(Language-Integrated Query)","headline":"LINQ 1","dateModified":"2021-07-01T22:35:31+09:00","datePublished":"2021-04-06T12:00:00+09:00","url":"https://psy0231.github.io/posts/CS_13_Linq_1/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://psy0231.github.io/posts/CS_13_Linq_1/"},"@context":"https://schema.org"}</script><title>13. LINQ 1 | Null Section</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Null Section"><meta name="application-name" content="Null Section"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">Null Section</a></div><div class="site-subtitle font-italic">nothing here.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/psy0231" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['psy0231','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>13. LINQ 1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>13. LINQ 1</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/username">SooyongPark</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-04-06 12:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Tue, Apr 6, 2021, 12:00 PM +0900" >Apr 6, 2021</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="9268 words"> <em>51 min</em> read</span></div></div></div><div class="post-content"><h2 id="linqlanguage-integrated-query">LINQ(Language-Integrated Query)<a href="#linqlanguage-integrated-query" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="개요">개요<a href="#개요" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>LINQ는 데이터 소스에서 데이터를 쿼리하고 변환하는 데 사용.<ul><li>ex) 단일 쿼리로 SQL 데이터베이스에서 검색하고 XML 출력.</ul><li>데이터 모델 단순화<ul><li>관계형 데이터베이스에는<br /> 다양한 형식의 데이터 소스에 서로 다른 언어 필요<li>LINQ는 다양한 데이터 소스 및 형식에<br /> 일관된 모델을 제공함으로써<br /> 이러한 상황을 단순화 했다.<li>쿼리 식은 쉽다.</ul><li>대부분의 경우 컴파일러가 형식을 유추하기 때문에<br /> 명시적 형식을 제공할 필요는 없지만<br /> 쿼리 식의 변수는 모두 강력한 형식을 갖는다.(LINQ 쿼리 작업의 형식 관계.)<ul><li>보통 결과를 var로 처리하는 이유인듯</ul><li>쿼리는 쿼리 변수를 반복할 때까지(예: foreach 문) 실행되지 않는다.<ul><li>지연된 실행에 관한건 아래.</ul><li>컴파일 타임에 쿼리 식은 C#에 명시된 규칙에 따라<br /> 표준 쿼리 연산자 메서드 호출으로 변환된다.<ul><li>쿼리 구문을 사용하여 표현할 수 있는 모든 쿼리는<br /> 메서드 구문으로도 표현할 수 있다.<li>원래 쓰던 query처럼 쓰는방법, method처럼 쓰는방법에 대한 설명. <br /> 1,2로 나눠 쓸 예정<li>LINQ 쿼리를 작성하는 경우 가능하면 쿼리 구문을 사용하고<br /> 필요한 경우 메서드 구문을 사용하는 것이 좋다.<br /> 두 개의 다른 폼 간에 의미 체계 또는 성능상의 차이는 없다.<li>쿼리 식이 메서드 구문으로 작성된 동급의 식보다 읽기 쉬운 경우가 많다.<li>C# 언어 사양 / 표준 쿼리 연산자 개요 참고<li>expression with method<ul><li>일부 linq method는 expression으로 표현할 수 없음<li>Count 또는 Max등등.<br /> 뒤에 보면 더 많음<li>해당하는 쿼리 식 절이 없으므로 메서드 호출로 표현해야 한다.<br /> 단, expression 으로 구현을 못하는게 아니라<br /> 직접 같은 결과를 도출하려면 번거로움<li>메서드 구문을 다양한 방법으로 쿼리 구문에 조합할 수 있다.<br /> 따라서 expression은 일반적으로 가독성이 좋고<br /> method에는 좀더 편리하게 만들어진것들이 더 있음<br /> 잘 조합하는게 좋음.</ul><li>쿼리 식은 쿼리가 적용되는 형식에 따라<br /> 식 트리 또는 대리자로 컴파일될 수 있다.<ul><li>IEnumerable&lt;T&gt; 쿼리는 대리자로 컴파일.<li>IQueryable 및 IQueryable&lt;T&gt; 쿼리는 식 트리로 컴파일.<li>자세한 내용은 식 트리를 참조.</ul></ul></ul><h3 id="data-source">Data Source<a href="#data-source" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>LINQ 쿼리는 .NET Framework 2.0에서 도입된 제네릭 형식을 기반으로 힌다.<li>List&lt;T&gt; 같은 제네릭 컬렉션 클래스의 인스턴스를 만들 때<br /> “T”를 목록에 포함할 개체 형식으로 대체.<ul><li>예를 들어 문자열 목록은 List&lt;string&gt;으로,<br /> Customer 개체 목록은 List&lt;Customer&gt;로 표현함.<br /> 따라서 형식 캐스팅을 수행할 필요가 없어짐.</ul><li>제네릭 IEnumerable&lt;T&gt; 인터페이스를 암시적으로 지원하면 LINQ로 쿼리할 수 있다.<ul><li>쿼리가 foreach 문에서 실행되고,<br /> foreach는 IEnumerable 또는 IEnumerable&lt;T&gt;이 필요.<li>IEnumerable&lt;T&gt; 또는 제네릭 IQueryable&lt;T&gt; 같은<br /> 파생된 인터페이스를 지원하는 형식을 쿼리 가능 형식이라고 함.</ul><li>이해하는 바가 맞다면<ul><li>query는 foreach를 이용해 실행함.<li>foreach는 IEnumerable&lt;T&gt;을 이용함.<li>foreach를 사용할 수 있는 모든 데이터 형식은 linq를 사용가능해짐.</ul></ul><h3 id="query-execution">Query Execution<a href="#query-execution" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Deferred Execution</strong><ul><li><p>특이한점은 쿼리 변수 자체는 쿼리 명령을 저장하는 기능만 함.<br /> 실제 쿼리 실행은 foreach 문에서 쿼리 변수가 반복될 때까지 지연된다.</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">mtd</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span><span class="p">[]</span> <span class="n">data</span> <span class="p">=</span> <span class="p">{</span> <span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">1</span> <span class="p">};</span>
  <span class="kt">var</span> <span class="n">q</span> <span class="p">=</span> <span class="k">from</span> <span class="n">d</span> <span class="k">in</span> <span class="n">data</span> 
          <span class="k">orderby</span> <span class="n">d</span> 
          <span class="k">select</span> <span class="n">d</span><span class="p">;</span>
        
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">q</span><span class="p">)</span> 
  <span class="p">{</span> 
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"{0}"</span><span class="p">,</span><span class="n">item</span> <span class="p">);</span> 
  <span class="p">}</span>
      
  <span class="n">data</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="m">1000</span><span class="p">;</span> <span class="c1">//3 에서 10으로</span>
      
  <span class="k">foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">q</span><span class="p">)</span> 
  <span class="p">{</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"{0}"</span><span class="p">,</span><span class="n">item</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>
<span class="c1">///   1 2 3 4 5</span>
<span class="c1">///   1 2 3 4 10</span>
</pre></table></code></div></div><ul><li>쿼리식은 명령만 저장하고 있음<li>원본 데이터의 변경과 쿼리식은 서로 상관 없음<li>쿼리식을 직접 검색할 때 그 시점의 데이터를 볼 수 있음</ul><li>foreach 문은 쿼리 결과가 검색되는 위치이기도 하다.<ul><li>예를 들어 이전 쿼리에서 반복 변수 item은<br /> 반환된 시퀀스에서 각 값을 한 번에 하나씩 저장한다.</ul><li>쿼리 변수 자체는 쿼리 결과를 저장하지 않으므로<br /> 원하는 만큼 자주 실행할 수 있다.<ul><li>예를 들어 지속적으로 업데이트되는 데이터베이스가 있을 때<br /> 애플리케이션에서 최근 데이터를 검색하는 쿼리를 작성하고<br /> 이를 일정 간격을 두고 반복적으로 실행하여<br /> 매번 다른 결과를 검색할 수 있다.</ul></ul><li><strong>Forcing Immediate Execution</strong><ul><li>소스 요소 범위에 대해 집계 함수를 수행하는 쿼리는<br /> 먼저 해당 요소를 반복해야 한다.<ul><li>ex) Count, Max, Average, First 등</ul><li>이러한 쿼리는 쿼리 자체에서 결과를 반환하려면<br /> foreach를 사용해야 하기 때문에 명시적 foreach 문 없이 실행된다.<li>이러한 유형의 쿼리는 IEnumerable 컬렉션이 아니라 단일 값을 반환한다.<li>배열에서 짝수의 개수를 반환하는 예.<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">evenNumQuery</span> <span class="p">=</span>
    <span class="k">from</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numbers</span>
    <span class="k">where</span> <span class="p">(</span><span class="n">num</span> <span class="p">%</span> <span class="m">2</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span>
    <span class="k">select</span> <span class="n">num</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">evenNumCount</span> <span class="p">=</span> <span class="n">evenNumQuery</span><span class="p">.</span><span class="nf">Count</span><span class="p">();</span>

<span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">numQuery2</span> <span class="p">=</span>
          <span class="p">(</span><span class="k">from</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numbers</span>
          <span class="k">where</span> <span class="p">(</span><span class="n">num</span> <span class="p">%</span> <span class="m">2</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span>
          <span class="k">select</span> <span class="n">num</span><span class="p">).</span><span class="nf">ToList</span><span class="p">();</span>

<span class="c1">// or like this:</span>
<span class="c1">// numQuery3 is still an int[]</span>

<span class="kt">var</span> <span class="n">numQuery3</span> <span class="p">=</span>
    <span class="p">(</span><span class="k">from</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numbers</span>
    <span class="k">where</span> <span class="p">(</span><span class="n">num</span> <span class="p">%</span> <span class="m">2</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span>
    <span class="k">select</span> <span class="n">num</span><span class="p">).</span><span class="nf">ToArray</span><span class="p">();</span>
</pre></table></code></div></div><ul><li>모든 쿼리를 즉시 실행하고 그 결과를 캐시하기 위해<br /> ToList 또는 ToArray 메서드를 호출할 수 있다.<li>foreach 루프를 쿼리 식 바로 다음에 배치하여 강제로 실행할 수 있고,<br /> ToList 또는 ToArray를 호출하여<br /> 단일 컬렉션 개체에서 모든 데이터를 캐시할 수도 있다.</ul></ul></ul><h2 id="query">Query<a href="#query" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>C# 식이 유효한 모든 컨텍스트에서 사용할 수 있다.<li>쿼리 식은 SQL 또는 XQuery와 유사한 선언적 구문으로 작성된 절 집합.<ul><li>다만, 서순이 좀 다름.</ul><li>각 절에는 하나 이상의 C# 식이 포함되며, 이러한 식은<br /> 자체가 쿼리 식이거나 쿼리 식을 포함할 수 있다.<li>쿼리 식은 from 절로 시작하고 select 또는 group 절로 끝나야 한다.<ul><li>첫 번째 from 절과 마지막 select 또는 group 절 사이에<br /> 선택적으로 where, orderby, join, let 절과<br /> 추가 from 절 중에서 하나 이상을 포함할 수 있다.<li>또한 into 키워드를 사용하여, join 또는 group 절의 결과를<br /> 동일한 쿼리 식의 추가 쿼리 절에 대한 소스로 사용할 수 있다.</ul><li>흔히 보던 query랑 다를게 없어 보이는 설명인데<br /> 차이점이 있다면 query쓰는 순서, join 정도?<ul><li>일반적인 db qry는<br /> 결과(select) - data(from) - 조건(where…) 이라면 LINQ는<br /> data(from) - 조건(where…) - 결과(select) 순서.</ul><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">from</span> <span class="n">num</span> <span class="k">in</span> <span class="n">nums</span>
             <span class="k">where</span> <span class="n">num</span> <span class="p">&lt;</span> <span class="m">10</span>
             <span class="k">select</span> <span class="n">num</span>
</pre></table></code></div></div></ul><h3 id="from">from<a href="#from" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>쿼리 시작점.<li>from이 나타내는 내용은<ul><li>쿼리 또는 하위쿼리가 실행된 데이터소스<li>소스 시퀀스의 각 요소를 나타내는 지역 범위 변수</ul><li>컴파일러는 데이터 소스가 IEnumerable&lt;T&gt;을 구현할 경우<br /> 범위 변수의 형식을 유추한다.<ul><li>아래의 경우 numbers는 데이터 소스이고 num은 범위 변수.<li>var 키워드가 사용되어도 두 변수는 모두 강력한 형식.<li>아래의 예제에서 num은 int 형식으로 유추된다.<li>범위 변수가 강력한 형식이므로 범위 변수에서 메서드를 호출하거나<br /> 다른 작업에서 범위 변수를 사용 가능.<ul><li>예를 들어 select num을 작성하는 대신에<br /> select num.ToString() 사용 가능.<li>또는 select num + 10을 작성하여<br /> 식에서 14, 11, 13, 12, 10 시퀀스를 반환 가능</ul></ul><li>소스가 ArrayList와 같이 제네릭이 아닌 IEnumerable 형식인 경우에만<br /> 형식을 명시적으로 지정하면 됨. (해당내용은 ArrayList를 쿼리하는 방법 참조.)<li><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>  <span class="k">class</span> <span class="nc">LowNums</span>
  <span class="p">{</span>
  <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="c1">// A simple data source.</span>
      <span class="kt">int</span><span class="p">[]</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">{</span> <span class="m">5</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">0</span> <span class="p">};</span>

      <span class="c1">// Create the query.</span>
      <span class="c1">// lowNums is an IEnumerable&lt;int&gt;</span>
      <span class="kt">var</span> <span class="n">lowNums</span> <span class="p">=</span> <span class="k">from</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numbers</span>
          <span class="k">where</span> <span class="n">num</span> <span class="p">&lt;</span> <span class="m">5</span>
          <span class="k">select</span> <span class="n">num</span><span class="p">;</span>

      <span class="c1">// Execute the query.</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="k">in</span> <span class="n">lowNums</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="s">" "</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// Output: 4 1 3 2 0</span>
</pre></table></code></div></div><li>하위에 다른 from 가능<li>경우에 따라 소스 시퀀스의 각 요소 자체가 시퀀스이거나 시퀀스를 포함할 수 있다.<ul><li>예를 들어, 시퀀스의 각 학생 개체에 테스트 점수 목록이 포함된<br /> IEnumerable&lt;Student&gt;가 데이터 소스일 수 있음.</ul><li>각 Student 요소 내의 내부 목록에 액세스하려면 복합 from 절을 사용.<ul><li>이 기술은 중첩된 foreach 문을 사용하는 것과 같다.</ul><li><p>where 또는 orderby 절을 둘 중 하나의 from 절에 추가하여 필터링.</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">CompoundFrom</span>
<span class="p">{</span>
    <span class="c1">// The element type of the data source.</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Student</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">LastName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">Scores</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>

        <span class="c1">// Use a collection initializer to create the data source. Note that</span>
        <span class="c1">// each element in the list contains an inner sequence of scores.</span>
        <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="n">students</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span>
        <span class="p">{</span>
          <span class="k">new</span> <span class="n">Student</span> <span class="p">{</span><span class="n">LastName</span><span class="p">=</span><span class="s">"Omelchenko"</span><span class="p">,</span> <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">72</span><span class="p">,</span> <span class="m">81</span><span class="p">,</span> <span class="m">60</span><span class="p">}},</span>
          <span class="k">new</span> <span class="n">Student</span> <span class="p">{</span><span class="n">LastName</span><span class="p">=</span><span class="s">"O'Donnell"</span><span class="p">,</span> <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">75</span><span class="p">,</span> <span class="m">84</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">39</span><span class="p">}},</span>
          <span class="k">new</span> <span class="n">Student</span> <span class="p">{</span><span class="n">LastName</span><span class="p">=</span><span class="s">"Mortensen"</span><span class="p">,</span> <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">88</span><span class="p">,</span> <span class="m">94</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">85</span><span class="p">}},</span>
          <span class="k">new</span> <span class="n">Student</span> <span class="p">{</span><span class="n">LastName</span><span class="p">=</span><span class="s">"Garcia"</span><span class="p">,</span> <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">89</span><span class="p">,</span> <span class="m">85</span><span class="p">,</span> <span class="m">82</span><span class="p">}},</span>
          <span class="k">new</span> <span class="n">Student</span> <span class="p">{</span><span class="n">LastName</span><span class="p">=</span><span class="s">"Beebe"</span><span class="p">,</span> <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">35</span><span class="p">,</span> <span class="m">72</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">70</span><span class="p">}}</span>
        <span class="p">};</span>

        <span class="c1">// Use a compound from to access the inner sequence within each element.</span>
        <span class="c1">// Note the similarity to a nested foreach statement.</span>
        <span class="kt">var</span> <span class="n">scoreQuery</span> <span class="p">=</span>  <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">students</span>
                          <span class="k">from</span> <span class="n">score</span> <span class="k">in</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span>
                            <span class="k">where</span> <span class="n">score</span> <span class="p">&gt;</span> <span class="m">90</span>
                            <span class="k">select</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Last</span> <span class="p">=</span> <span class="n">student</span><span class="p">.</span><span class="n">LastName</span><span class="p">,</span> <span class="n">score</span> <span class="p">};</span>

        <span class="c1">// Execute the queries.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"scoreQuery:"</span><span class="p">);</span>
        <span class="c1">// Rest the mouse pointer on scoreQuery in the following line to</span>
        <span class="c1">// see its type. The type is IEnumerable&lt;'a&gt;, where 'a is an</span>
        <span class="c1">// anonymous type defined as new {string Last, int score}. That is,</span>
        <span class="c1">// each instance of this anonymous type has two members, a string</span>
        <span class="c1">// (Last) and an int (score).</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">student</span> <span class="k">in</span> <span class="n">scoreQuery</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"{0} Score: {1}"</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">Last</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">score</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Keep the console window open in debug mode.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/*
scoreQuery:
Omelchenko Score: 97
O'Donnell Score: 91
Mortensen Score: 94
Garcia Score: 97
Beebe Score: 91
*/</span>
</pre></table></code></div></div></ul><h3 id="where">where<a href="#where" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>데이터 소스의 어떤 요소가 쿼리 식에서 반환될지를 지정 : 필터링.<ul><li>각 소스 요소(범위 변수로 참조됨)에<br /> 부울 조건(predicate)을 적용하고 참인 요소를 반환.</ul><li>단일 쿼리 식에는 여러 where 절을 포함할 수 있으며<br /> 단일 절에는 여러 조건부 하위 식을 포함 가능.<li>첫 번째 또는 마지막 절이 될 수 없다는 점을 제외하고,<br /> 쿼리 식의 거의 모든 곳에 배치할 수 있다.<ul><li>소스 요소를 그룹화 전에 필터링할지,<br /> 그룹화 후에 필터링할지에 따라<br /> where 절은 group 절 앞 또는 뒤에 나타날 수 있다.</ul><li>지정된 조건자가 데이터 소스의 요소에 대해<br /> 유효하지 않은 경우 컴파일 오류 발생. <br /> 이는 LINQ에서 제공하는 강력한 형식 검사의 이점.<br /> 컴파일 시간에 where 키워드는<br /> Where 표준 쿼리 연산자 메서드에 대한 호출로 변환된다.<li><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre>  <span class="k">class</span> <span class="nc">LINQ_where</span>
  <span class="p">{</span>
  <span class="k">public</span> <span class="n">Action</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">action</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">void</span> <span class="nf">test</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="c1">// Data source.</span>
      <span class="kt">int</span><span class="p">[]</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">{</span> <span class="m">5</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">0</span> <span class="p">};</span>

      <span class="c1">// Create the query with two where clause.</span>
      <span class="kt">var</span> <span class="n">queryLowNums3</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numbers</span>
          <span class="k">where</span> <span class="n">num</span> <span class="p">&gt;</span> <span class="m">0</span> <span class="p">&amp;&amp;</span> <span class="n">num</span> <span class="p">&lt;</span> <span class="m">10</span>
          <span class="k">where</span> <span class="nf">IsEven</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
          <span class="k">select</span> <span class="n">num</span><span class="p">;</span>

      <span class="c1">// Execute the query</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">s</span> <span class="k">in</span> <span class="n">queryLowNums3</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">bool</span> <span class="nf">IsEven</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="k">return</span> <span class="n">i</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// Output:</span>
  <span class="c1">// 4 8 6 2</span>
</pre></table></code></div></div><li>where num &gt; 0 &amp;&amp; num &lt; 10는<br /> where num &gt; 0 where num &lt; 10 로 변환 가능.<li>결국, bool로 판단할 수 있는<br /> 식또는 method가 들어가는건 모두 가능하며<br /> 적당히 &amp;&amp; || 등으로 묶어서 표현 가능.</ul><h3 id="select">select<a href="#select" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>쿼리 식의 끝 1.<li>쿼리를 실행할 때 생성되는 값의 형식을 지정.<br /> 또는 쿼리 결과에서 실제 뽑아올 데이터를 지정.<li>결과는 모든 이전 절의 평가와<br /> select 절 자체의 모든 계산을 기반으로 한다.<li><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
</pre><td class="rouge-code"><pre>  <span class="k">class</span> <span class="nc">LINQ_select</span>
  <span class="p">{</span>
  <span class="k">public</span> <span class="n">Action</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">action</span><span class="p">;</span>
  <span class="c1">// Define some classes</span>
  <span class="k">public</span> <span class="k">class</span> <span class="nc">Student</span>
  <span class="p">{</span>
      <span class="k">public</span> <span class="kt">string</span> <span class="n">First</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="kt">string</span> <span class="n">Last</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="kt">int</span> <span class="n">ID</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">Scores</span><span class="p">;</span>
      <span class="k">public</span> <span class="n">ContactInfo</span> <span class="nf">GetContactInfo</span><span class="p">(</span><span class="n">LINQ_select</span> <span class="n">app</span><span class="p">,</span> <span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="n">ContactInfo</span> <span class="n">cInfo</span> <span class="p">=</span>
              <span class="p">(</span><span class="k">from</span> <span class="n">ci</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">contactList</span>
                <span class="k">where</span> <span class="n">ci</span><span class="p">.</span><span class="n">ID</span> <span class="p">==</span> <span class="n">id</span>
                <span class="k">select</span> <span class="n">ci</span><span class="p">)</span>
              <span class="p">.</span><span class="nf">FirstOrDefault</span><span class="p">();</span>

          <span class="k">return</span> <span class="n">cInfo</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
      <span class="p">{</span>
          <span class="k">return</span> <span class="n">First</span> <span class="p">+</span> <span class="s">" "</span> <span class="p">+</span> <span class="n">Last</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">ID</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">class</span> <span class="nc">ContactInfo</span>
  <span class="p">{</span>
      <span class="k">public</span> <span class="kt">int</span> <span class="n">ID</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="kt">string</span> <span class="n">Email</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="kt">string</span> <span class="n">Phone</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">Email</span> <span class="p">+</span> <span class="s">","</span> <span class="p">+</span> <span class="n">Phone</span><span class="p">;</span> <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">class</span> <span class="nc">ScoreInfo</span>
  <span class="p">{</span>
      <span class="k">public</span> <span class="kt">double</span> <span class="n">Average</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="kt">int</span> <span class="n">ID</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// The primary data source</span>
  <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="n">students</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;()</span>
  <span class="p">{</span>
      <span class="k">new</span> <span class="n">Student</span> 
      <span class="p">{</span>
          <span class="n">First</span><span class="p">=</span><span class="s">"Svetlana"</span><span class="p">,</span> 
          <span class="n">Last</span><span class="p">=</span><span class="s">"Omelchenko"</span><span class="p">,</span> 
          <span class="n">ID</span><span class="p">=</span><span class="m">111</span><span class="p">,</span> 
          <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;()</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">92</span><span class="p">,</span> <span class="m">81</span><span class="p">,</span> <span class="m">60</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="k">new</span> <span class="n">Student</span> 
      <span class="p">{</span>
          <span class="n">First</span><span class="p">=</span><span class="s">"Claire"</span><span class="p">,</span> 
          <span class="n">Last</span><span class="p">=</span><span class="s">"O'Donnell"</span><span class="p">,</span> 
          <span class="n">ID</span><span class="p">=</span><span class="m">112</span><span class="p">,</span> 
          <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;()</span> <span class="p">{</span><span class="m">75</span><span class="p">,</span> <span class="m">84</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">39</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="k">new</span> <span class="n">Student</span> 
      <span class="p">{</span>
          <span class="n">First</span><span class="p">=</span><span class="s">"Sven"</span><span class="p">,</span>
          <span class="n">Last</span><span class="p">=</span><span class="s">"Mortensen"</span><span class="p">,</span> 
          <span class="n">ID</span><span class="p">=</span><span class="m">113</span><span class="p">,</span> 
          <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;()</span> <span class="p">{</span><span class="m">88</span><span class="p">,</span> <span class="m">94</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">91</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="k">new</span> <span class="n">Student</span> 
      <span class="p">{</span>
          <span class="n">First</span><span class="p">=</span><span class="s">"Cesar"</span><span class="p">,</span> 
          <span class="n">Last</span><span class="p">=</span><span class="s">"Garcia"</span><span class="p">,</span> 
          <span class="n">ID</span><span class="p">=</span><span class="m">114</span><span class="p">,</span> 
          <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;()</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">89</span><span class="p">,</span> <span class="m">85</span><span class="p">,</span> <span class="m">82</span><span class="p">}</span>
      <span class="p">},</span>
  <span class="p">};</span>

  <span class="c1">// Separate data source for contact info.</span>
  <span class="n">List</span><span class="p">&lt;</span><span class="n">ContactInfo</span><span class="p">&gt;</span> <span class="n">contactList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">ContactInfo</span><span class="p">&gt;()</span>
  <span class="p">{</span>
      <span class="k">new</span> <span class="n">ContactInfo</span> <span class="p">{</span><span class="n">ID</span><span class="p">=</span><span class="m">111</span><span class="p">,</span> <span class="n">Email</span><span class="p">=</span><span class="s">"SvetlanO@Contoso.com"</span><span class="p">,</span> <span class="n">Phone</span><span class="p">=</span><span class="s">"206-555-0108"</span><span class="p">},</span>
      <span class="k">new</span> <span class="n">ContactInfo</span> <span class="p">{</span><span class="n">ID</span><span class="p">=</span><span class="m">112</span><span class="p">,</span> <span class="n">Email</span><span class="p">=</span><span class="s">"ClaireO@Contoso.com"</span><span class="p">,</span> <span class="n">Phone</span><span class="p">=</span><span class="s">"206-555-0298"</span><span class="p">},</span>
      <span class="k">new</span> <span class="n">ContactInfo</span> <span class="p">{</span><span class="n">ID</span><span class="p">=</span><span class="m">113</span><span class="p">,</span> <span class="n">Email</span><span class="p">=</span><span class="s">"SvenMort@Contoso.com"</span><span class="p">,</span> <span class="n">Phone</span><span class="p">=</span><span class="s">"206-555-1130"</span><span class="p">},</span>
      <span class="k">new</span> <span class="n">ContactInfo</span> <span class="p">{</span><span class="n">ID</span><span class="p">=</span><span class="m">114</span><span class="p">,</span> <span class="n">Email</span><span class="p">=</span><span class="s">"CesarGar@Contoso.com"</span><span class="p">,</span> <span class="n">Phone</span><span class="p">=</span><span class="s">"206-555-0521"</span><span class="p">}</span>
  <span class="p">};</span>

  <span class="k">public</span> <span class="k">void</span> <span class="nf">test</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="n">LINQ_select</span> <span class="n">app</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LINQ_select</span><span class="p">();</span>

      <span class="c1">// Produce a filtered sequence of unmodified Students.</span>
      <span class="kt">var</span> <span class="n">studentQuery1</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="n">student</span><span class="p">;</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"Query1: select range_variable"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">s</span> <span class="k">in</span> <span class="n">studentQuery1</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of elements that contain</span>
      <span class="c1">// only one property of each Student.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">studentQuery2</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="n">student</span><span class="p">.</span><span class="n">Last</span><span class="p">;</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery2: select range_variable.Property"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">s</span> <span class="k">in</span> <span class="n">studentQuery2</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of objects created by</span>
      <span class="c1">// a method call on each Student.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">ContactInfo</span><span class="p">&gt;</span> <span class="n">studentQuery3</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="n">student</span><span class="p">.</span><span class="nf">GetContactInfo</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span><span class="p">);</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery3: select range_variable.Method"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="n">ContactInfo</span> <span class="n">ci</span> <span class="k">in</span> <span class="n">studentQuery3</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="n">ci</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of ints from</span>
      <span class="c1">// the internal array inside each Student.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">studentQuery4</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery4: select range_variable[index]"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="k">in</span> <span class="n">studentQuery4</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"First score = {0}"</span><span class="p">,</span> <span class="n">i</span><span class="p">));</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of doubles</span>
      <span class="c1">// that are the result of an expression.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">double</span><span class="p">&gt;</span> <span class="n">studentQuery5</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">*</span> <span class="m">1.1</span><span class="p">;</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery5: select expression"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">double</span> <span class="n">d</span> <span class="k">in</span> <span class="n">studentQuery5</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"Adjusted first score = {0}"</span><span class="p">,</span> <span class="n">d</span><span class="p">));</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of doubles that are</span>
      <span class="c1">// the result of a method call.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">double</span><span class="p">&gt;</span> <span class="n">studentQuery6</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">();</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery6: select expression2"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">double</span> <span class="n">d</span> <span class="k">in</span> <span class="n">studentQuery6</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"Average = {0}"</span><span class="p">,</span> <span class="n">d</span><span class="p">));</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of anonymous types</span>
      <span class="c1">// that contain only two properties from each Student.</span>
      <span class="kt">var</span> <span class="n">studentQuery7</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="k">new</span> <span class="p">{</span> <span class="n">student</span><span class="p">.</span><span class="n">First</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">Last</span> <span class="p">};</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery7: select new anonymous type"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">studentQuery7</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0}, {1}"</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">Last</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">First</span><span class="p">));</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of named objects that contain</span>
      <span class="c1">// a method return value and a property from each Student.</span>
      <span class="c1">// Use named types if you need to pass the query variable</span>
      <span class="c1">// across a method boundary.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">ScoreInfo</span><span class="p">&gt;</span> <span class="n">studentQuery8</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="p">&gt;</span> <span class="m">111</span>
          <span class="k">select</span> <span class="k">new</span> <span class="n">ScoreInfo</span>
          <span class="p">{</span>
              <span class="n">Average</span> <span class="p">=</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">(),</span>
              <span class="n">ID</span> <span class="p">=</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span>
          <span class="p">};</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery8: select new named type"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="n">ScoreInfo</span> <span class="n">si</span> <span class="k">in</span> <span class="n">studentQuery8</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"ID = {0}, Average = {1}"</span><span class="p">,</span> <span class="n">si</span><span class="p">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">si</span><span class="p">.</span><span class="n">Average</span><span class="p">));</span>
      <span class="p">}</span>

      <span class="c1">// Produce a filtered sequence of students who appear on a contact list</span>
      <span class="c1">// and whose average is greater than 85.</span>
      <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">ContactInfo</span><span class="p">&gt;</span> <span class="n">studentQuery9</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">students</span>
          <span class="k">where</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">()</span> <span class="p">&gt;</span> <span class="m">85</span>
          <span class="k">join</span> <span class="n">ci</span> <span class="k">in</span> <span class="n">app</span><span class="p">.</span><span class="n">contactList</span> <span class="k">on</span> <span class="n">student</span><span class="p">.</span><span class="n">ID</span> <span class="k">equals</span> <span class="n">ci</span><span class="p">.</span><span class="n">ID</span>
          <span class="k">select</span> <span class="n">ci</span><span class="p">;</span>

      <span class="nf">action</span><span class="p">(</span><span class="s">"\r\n studentQuery9: select result of join clause"</span><span class="p">);</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="n">ContactInfo</span> <span class="n">ci</span> <span class="k">in</span> <span class="n">studentQuery9</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="nf">action</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"ID = {0}, Email = {1}"</span><span class="p">,</span> <span class="n">ci</span><span class="p">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">ci</span><span class="p">.</span><span class="n">Email</span><span class="p">));</span>
      <span class="p">}</span>

      <span class="c1">// Keep the console window open in debug mode</span>
      <span class="nf">action</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><li>위는 select로 할 수 있는 모든 짓거리들.<li>select 절에서 생성된 시퀀스의 형식에 따라<br /> 쿼리 변수의 형식이 결정.<ul><li>위의 경우 studentQuery1 이며<br /> 이전 설명에도 나와있듯이 var이지만 강력한 형식.</ul><li>가장 단순한 경우에서는 select 절이 범위 변수를 지정합니다.<ul><li>이것도 studentQuery1의 경우.<li>이렇게 하면 반환된 시퀀스에<br /> 데이터 소스와 동일한 형식의 요소가 포함된다.<li>관련 내용은 LINQ 쿼리 작업의 형식 관계 참조.</ul><li>select 절은 소스 데이터를<br /> 새 형식으로 변환(또는 프로젝션)하기 위한 메커니즘도 제공.<ul><li>studentQuery7에서와 같이 이 전과 다른 새로운 형식으로 생성 가능.<li>studentQuery8에 표시된 대로 반환된 시퀀스의 요소에<br /> 소스 요소의 속성 하위 집합만 포함하려는 경우도 가능.<li>반환된 시퀀스를 최대한 작게 유지하면<br /> 메모리 요구 사항을 줄이고 쿼리 실행 속도를 높일 수 있다.<li>select 절에서 무명 형식을 만들고<br /> 개체 이니셜라이저를 사용하여<br /> 소스 요소의 적절한 속성으로 초기화하면 된다.<li>관련 내용은 LINQ를 통한 데이터 변환(C#),<br /> 개체 및 컬렉션 이니셜라이저를 참조.</ul></ul><h3 id="group">group<a href="#group" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>쿼리 식의 끝 2<li>group 절은 그룹의 키 값과 일치하는<br /> 0개 이상의 항목이 포함된<br /> IGrouping&lt;TKey,TElement&gt; 개체 시퀀스를 반환.<ul><li>예를 들어 각 문자열의 첫 번째 문자에 따라<br /> 문자열 시퀀스를 그룹화할 수 있다.<li>이 경우 첫 번째 문자는 키로, char 형식이며<br /> 각 IGrouping&lt;TKey,TElement&gt; 개체의 Key 속성에 저장.</ul><li>컴파일러는 키의 형식을 유추한다.<ul><li>그룹 키는 문자열, 기본 제공 숫자 형식,<br /> 사용자 정의 명명된 형식, 무명 형식 등 모든 형식가능.<li>위 경우 IGrouping&lt;char,string&gt; 인듯.</ul><li>by를 사용해 반환된 항목의 그룹화 방법을 지정.<li><p>다음은 group의 대략적인 예시</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="c1">// Group students by the first letter of their last name</span>
<span class="c1">// Query variable is an IEnumerable&lt;IGrouping&lt;char, Student&gt;&gt;</span>
<span class="kt">var</span> <span class="n">studentQuery2</span> <span class="p">=</span>
    <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">students</span>
    <span class="k">group</span> <span class="n">student</span> <span class="k">by</span> <span class="n">student</span><span class="p">.</span><span class="n">Last</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="k">into</span> <span class="n">g</span>
    <span class="k">orderby</span> <span class="n">g</span><span class="p">.</span><span class="n">Key</span>
    <span class="k">select</span> <span class="n">g</span><span class="p">;</span>

  <span class="c1">// Iterate group items with a nested foreach. This IGrouping encapsulates</span>
<span class="c1">// a sequence of Student objects, and a Key of type char.</span>
<span class="c1">// For convenience, var can also be used in the foreach statement.</span>
<span class="k">foreach</span> <span class="p">(</span><span class="n">IGrouping</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">Student</span><span class="p">&gt;</span> <span class="n">studentGroup</span> <span class="k">in</span> <span class="n">studentQuery2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">studentGroup</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span>
    <span class="c1">// Explicit type for student could also be used here.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">student</span> <span class="k">in</span> <span class="n">studentGroup</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"   {0}, {1}"</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">Last</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">First</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li>group 쿼리에 의해 생성된 IGrouping&lt;TKey,TElement&gt; 개체는<br /> 기본적으로 목록의 목록이기 때문에<br /> 중첩된 foreach로 액세스해야 한다.<li>외부 루프는 그룹 키를 반복하고,<br /> 내부 루프는 그룹 자체에 있는 각 항목을 반복.<li>그룹에 키가 있지만 요소는 없을 수도 있다.<li>각 그룹에서 추가 쿼리 작업을 수행하려는 경우<br /> into 상황별 키워드를 사용하여 임시 식별자를 지정.<li>into를 사용하는 경우 쿼리를 계속 진행하되<br /> 궁극적으로 select 문이나 다른 group 절로 끝내야 한다.</ul><li><strong>그룹화</strong><ul><li>string<ul><li>group key로 위에서는 char를 사용했지만<br /> 문자열 키를 student.Last등으로 지정할 수 있다.</ul><li><p>bool</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">GroupSample1</span>
<span class="p">{</span>
    <span class="c1">// The element type of the data source.</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Student</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">First</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Last</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">ID</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">Scores</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="nf">GetStudents</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Use a collection initializer to create the data source. Note that each element</span>
        <span class="c1">//  in the list contains an inner sequence of scores.</span>
        <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="n">students</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span>
        <span class="p">{</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Svetlana"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Omelchenko"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">111</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">72</span><span class="p">,</span> <span class="m">81</span><span class="p">,</span> <span class="m">60</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Claire"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"O'Donnell"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">112</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">75</span><span class="p">,</span> <span class="m">84</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">39</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Sven"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Mortensen"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">113</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">99</span><span class="p">,</span> <span class="m">89</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">95</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Cesar"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Garcia"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">114</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">72</span><span class="p">,</span> <span class="m">81</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">84</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Debra"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Garcia"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">115</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">89</span><span class="p">,</span> <span class="m">85</span><span class="p">,</span> <span class="m">82</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="k">return</span> <span class="n">students</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
      <span class="c1">// Obtain the data source.</span>
      <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="n">students</span> <span class="p">=</span> <span class="nf">GetStudents</span><span class="p">();</span>

      <span class="c1">// Group by true or false.</span>
      <span class="c1">// Query variable is an IEnumerable&lt;IGrouping&lt;bool, Student&gt;&gt;</span>
      <span class="kt">var</span> <span class="n">booleanGroupQuery</span> <span class="p">=</span>
          <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">students</span>
          <span class="k">group</span> <span class="n">student</span> <span class="k">by</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">()</span> <span class="p">&gt;=</span> <span class="m">80</span><span class="p">;</span> <span class="c1">//pass or fail!</span>

      <span class="c1">// Execute the query and access items in each group</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">studentGroup</span> <span class="k">in</span> <span class="n">booleanGroupQuery</span><span class="p">)</span>
      <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">studentGroup</span><span class="p">.</span><span class="n">Key</span> <span class="p">==</span> <span class="k">true</span> <span class="p">?</span> <span class="s">"High averages"</span> <span class="p">:</span> <span class="s">"Low averages"</span><span class="p">);</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">student</span> <span class="k">in</span> <span class="n">studentGroup</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"   {0}, {1}:{2}"</span><span class="p">,</span> 
                    <span class="n">tudent</span><span class="p">.</span><span class="n">Last</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">First</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">());</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="c1">// Keep the console window open in debug mode.</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/* Output:
  Low averages
  Omelchenko, Svetlana:77.5
  O'Donnell, Claire:72.25
  Garcia, Cesar:75.5
  High averages
  Mortensen, Sven:93.5
  Garcia, Debra:88.25
*/</span>
</pre></table></code></div></div><ul><li>결과적으로 bool 키 값에 의해 두 그룹으로 나눠짐.<li>값은 group 절의 하위 식에서 생성.</ul><li><p>숫자 범위</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">GroupSample2</span>
<span class="p">{</span>
    <span class="c1">// The element type of the data source.</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Student</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">First</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Last</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">ID</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">Scores</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="nf">GetStudents</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Use a collection initializer to create the data source. Note that each element</span>
        <span class="c1">//  in the list contains an inner sequence of scores.</span>
        <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="n">students</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span>
        <span class="p">{</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Svetlana"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Omelchenko"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">111</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">72</span><span class="p">,</span> <span class="m">81</span><span class="p">,</span> <span class="m">60</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Claire"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"O'Donnell"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">112</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">75</span><span class="p">,</span> <span class="m">84</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">39</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Sven"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Mortensen"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">113</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">99</span><span class="p">,</span> <span class="m">89</span><span class="p">,</span> <span class="m">91</span><span class="p">,</span> <span class="m">95</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Cesar"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Garcia"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">114</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">72</span><span class="p">,</span> <span class="m">81</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">84</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="k">new</span> <span class="n">Student</span> 
            <span class="p">{</span>
                <span class="n">First</span><span class="p">=</span><span class="s">"Debra"</span><span class="p">,</span> 
                <span class="n">Last</span><span class="p">=</span><span class="s">"Garcia"</span><span class="p">,</span> 
                <span class="n">ID</span><span class="p">=</span><span class="m">115</span><span class="p">,</span> 
                <span class="n">Scores</span><span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span><span class="m">97</span><span class="p">,</span> <span class="m">89</span><span class="p">,</span> <span class="m">85</span><span class="p">,</span> <span class="m">82</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="k">return</span> <span class="n">students</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// This method groups students into percentile ranges based on their</span>
    <span class="c1">// grade average. The Average method returns a double, so to produce a whole</span>
    <span class="c1">// number it is necessary to cast to int before dividing by 10.</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Obtain the data source.</span>
        <span class="n">List</span><span class="p">&lt;</span><span class="n">Student</span><span class="p">&gt;</span> <span class="n">students</span> <span class="p">=</span> <span class="nf">GetStudents</span><span class="p">();</span>

        <span class="c1">// Write the query.</span>
        <span class="kt">var</span> <span class="n">studentQuery</span> <span class="p">=</span>
            <span class="k">from</span> <span class="n">student</span> <span class="k">in</span> <span class="n">students</span>
            <span class="k">let</span> <span class="n">avg</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">()</span>
            <span class="k">group</span> <span class="n">student</span> <span class="k">by</span> <span class="p">(</span><span class="n">avg</span> <span class="p">/</span> <span class="m">10</span><span class="p">)</span> <span class="k">into</span> <span class="n">g</span>
            <span class="k">orderby</span> <span class="n">g</span><span class="p">.</span><span class="n">Key</span>
            <span class="k">select</span> <span class="n">g</span><span class="p">;</span>

        <span class="c1">// Execute the query.</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">studentGroup</span> <span class="k">in</span> <span class="n">studentQuery</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">temp</span> <span class="p">=</span> <span class="n">studentGroup</span><span class="p">.</span><span class="n">Key</span> <span class="p">*</span> <span class="m">10</span><span class="p">;</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Students with an average between {0} and {1}"</span><span class="p">,</span> 
                    <span class="n">temp</span><span class="p">,</span> <span class="n">temp</span> <span class="p">+</span> <span class="m">10</span><span class="p">);</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">student</span> <span class="k">in</span> <span class="n">studentGroup</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"   {0}, {1}:{2}"</span><span class="p">,</span> 
                        <span class="n">student</span><span class="p">.</span><span class="n">Last</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">First</span><span class="p">,</span> <span class="n">student</span><span class="p">.</span><span class="n">Scores</span><span class="p">.</span><span class="nf">Average</span><span class="p">());</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// Keep the console window open in debug mode.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/* Output:
    Students with an average between 70 and 80
      Omelchenko, Svetlana:77.5
      O'Donnell, Claire:72.25
      Garcia, Cesar:75.5
    Students with an average between 80 and 90
      Garcia, Debra:88.25
    Students with an average between 90 and 100
      Mortensen, Sven:93.5
*/</span>
</pre></table></code></div></div><ul><li>식을 사용해 백분위수 범위를 나타내는 숫자 그룹 키를 만듦.<li>메서드 호출 결과를 저장할 위치로<br /> let을 사용하여 group 절에서 메서드를 두 번 호출할 필요가 없다.<li>쿼리 식에 메서드를 안전하게 사용하는 방법에 대한 자세한 내용은 쿼리 식의 예외 처리 참조.</ul><li><p>복합 키</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">group</span> <span class="n">person</span> <span class="k">by</span> <span class="k">new</span> <span class="p">{</span><span class="n">name</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">surname</span><span class="p">,</span> <span class="n">city</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">city</span><span class="p">};</span>
</pre></table></code></div></div><ul><li>둘 이상의 키에 따라 요소를 그룹화하려는 경우 복합 키 사용.<li>무명 형식이나 명명된 형식을 통해 키 요소로 만듦.<li>위에서는 Person 클래스가 surname 및 city라는 멤버로 선언되었다고 가정했을떄<br /> group 절은 성과 도시가 동일한 각 개인 집합에 대해 별도 그룹이 생성되도록 한다.<li>쿼리 변수를 다른 메서드에 전달해야 하는 경우 명명된 형식을 사용한다.<br /> 키에 대해 자동 구현 속성을 사용하여 특수 클래스를 만든 다음<br /> Equals 및 GetHashCode 메서드를 재정의.<br /> 구조체를 사용할 수도 있으며, 이 경우 이러한 메서드를 엄격하게 재정의하지 않아도 된다.<li>관련 내용은 자동으로 구현된 속성을 사용하여 간단한 클래스를 구현하는 방법,<br /> 디렉터리 트리의 중복 파일을 쿼리하는 방법을 참조.</ul><li><p>비연속 그룹화</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">GroupExample1</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Create a data source.</span>
        <span class="kt">string</span><span class="p">[]</span> <span class="n">words</span> <span class="p">=</span> <span class="p">{</span>  <span class="s">"blueberry"</span><span class="p">,</span>  <span class="s">"chimpanzee"</span><span class="p">,</span> <span class="s">"abacus"</span><span class="p">,</span> 
                            <span class="s">"banana"</span><span class="p">,</span>     <span class="s">"apple"</span><span class="p">,</span>      <span class="s">"cheese"</span> <span class="p">};</span>

        <span class="c1">// Create the query.</span>
        <span class="kt">var</span> <span class="n">wordGroups</span> <span class="p">=</span>
            <span class="k">from</span> <span class="n">w</span> <span class="k">in</span> <span class="n">words</span>
            <span class="k">group</span> <span class="n">w</span> <span class="k">by</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>

        <span class="c1">// Execute the query.</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">wordGroup</span> <span class="k">in</span> <span class="n">wordGroups</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Words that start with the letter '{0}':"</span><span class="p">,</span> 
                    <span class="n">wordGroup</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">word</span> <span class="k">in</span> <span class="n">wordGroup</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// Keep the console window open in debug mode</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/* Output:
      Words that start with the letter 'b':
        blueberry
        banana
      Words that start with the letter 'c':
        chimpanzee
        cheese
      Words that start with the letter 'a':
        abacus
        apple
    */</span>
</pre></table></code></div></div><ul><li>추가 쿼리 논리가 그룹에 적용되지 않는 경우<br /> 소스 데이터를 그룹으로 정렬하기 위해 사용.<li>문자열 배열에 있는 요소는 첫 문자에 따라 그룹화.<li>쿼리 결과는 char 형식의 공개 키 속성이 포함 된<br /> IGrouping&lt;TKey, TElement&gt; 형식과<br /> 그룹화의 각 항목이 포함 된 IEnumerable&lt;T&gt; 컬렉션.<li>group 절의 결과는 시퀀스의 시퀀스이기 때문에<br /> 반환된 각 그룹 내의 개별 요소에 액세스하려면<br /> 그룹 키를 반복하는 루프 안에 중첩된 foreach를 사용.</ul></ul></ul><h3 id="into">into<a href="#into" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>group, join, select 절의 결과를 새 식별자에 저장하기 위한 임시 식별자.<li>이 식별자 자체는 추가 쿼리 명령의 생성기일 수 있다.<li>group 또는 select 절에 사용할 경우 새 식별자의 사용을 ‘연속’ 이라고함.</ul><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">IntoSample1</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>

        <span class="c1">// Create a data source.</span>
        <span class="kt">string</span><span class="p">[]</span> <span class="n">words</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"apples"</span><span class="p">,</span> <span class="s">"blueberries"</span><span class="p">,</span> <span class="s">"oranges"</span><span class="p">,</span> <span class="s">"bananas"</span><span class="p">,</span> <span class="s">"apricots"</span><span class="p">};</span>

        <span class="c1">// Create the query.</span>
        <span class="kt">var</span> <span class="n">wordGroups1</span> <span class="p">=</span>
            <span class="k">from</span> <span class="n">w</span> <span class="k">in</span> <span class="n">words</span>
            <span class="k">group</span> <span class="n">w</span> <span class="k">by</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="k">into</span> <span class="n">fruitGroup</span>
            <span class="k">where</span> <span class="n">fruitGroup</span><span class="p">.</span><span class="nf">Count</span><span class="p">()</span> <span class="p">&gt;=</span> <span class="m">2</span>
            <span class="k">select</span> <span class="k">new</span> <span class="p">{</span> <span class="n">FirstLetter</span> <span class="p">=</span> <span class="n">fruitGroup</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span> <span class="n">Words</span> <span class="p">=</span> <span class="n">fruitGroup</span><span class="p">.</span><span class="nf">Count</span><span class="p">()</span> <span class="p">};</span>

        <span class="c1">// Execute the query. Note that we only iterate over the groups,</span>
        <span class="c1">// not the items in each group</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">wordGroups1</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">" {0} has {1} elements."</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">FirstLetter</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">Words</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Keep the console window open in debug mode</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/* Output:
  a has 2 elements.
  b has 2 elements.
*/</span>
</pre></table></code></div></div><ul><li>into를 사용하여 임시 식별자 fruitGroup을 활성화하는 방법.<li>이 식별자는 IGrouping의 유추된 형식을 갖는다.<li>식별자를 사용해 각 그룹에서 Count 메서드를 호출하고<br /> 둘 이상의 단어를 포함하는 그룹만 선택하고있다.</ul><h3 id="orderby">orderby<a href="#orderby" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>반환된 시퀀스 또는 하위 시퀀스(그룹)를 오름차순이나 내림차순으로 정렬.<li>하나 이상의 보조 정렬 작업을 수행하기 위해 여러 키를 지정할 수 있다.<li>정렬은 요소 형식에 대한 기본 비교자에 의해 수행됩니다. 기본은 오름차순입니다.<li>사용자 지정 비교자를 지정할 수도 있다. 단, 메서드 기반 구문을 통해서만 가능.<ul><li>자세한 내용은 데이터 정렬을 참조.</ul><li><p>```c# class OrderbySample2 { // The element type of the data source. public class Student { public string First { get; set; } public string Last { get; set; } public int ID { get; set; } }</p><p>public static List<Student> GetStudents() { // Use a collection initializer to create the data source. Note that each element // in the list contains an inner sequence of scores. List<Student> students = new List<Student> { new Student {First="Svetlana", Last="Omelchenko", ID=111}, new Student {First="Claire", Last="O'Donnell", ID=112}, new Student {First="Sven", Last="Mortensen", ID=113}, new Student {First="Cesar", Last="Garcia", ID=114}, new Student {First="Debra", Last="Garcia", ID=115} };</Student></Student></Student></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre>  return students;   }   static void Main(string[] args)   {
  // Create the data source.
  List&lt;Student&gt; students = GetStudents();

  // Create the query.
  IEnumerable&lt;Student&gt; sortedStudents =
      from student in students
      orderby student.Last ascending, student.First ascending
      select student;

  // Execute the query.
  Console.WriteLine("sortedStudents:");
  foreach (Student student in sortedStudents)
      Console.WriteLine(student.Last + " " + student.First);

  // Now create groups and sort the groups. The query first sorts the names
  // of all students so that they will be in alphabetical order after they are
  // grouped. The second orderby sorts the group keys in alpha order.
  var sortedGroups =
      from student in students
      orderby student.Last, student.First
      group student by student.Last[0] into newGroup
      orderby newGroup.Key
      select newGroup;

  // Execute the query.
  Console.WriteLine(Environment.NewLine + "sortedGroups:");
  foreach (var studentGroup in sortedGroups)
  {
      Console.WriteLine(studentGroup.Key);
      foreach (var student in studentGroup)
      {
          Console.WriteLine("   {0}, {1}", student.Last, student.First);
      }
  }

  // Keep the console window open in debug mode
  Console.WriteLine("Press any key to exit.");
  Console.ReadKey();   }   }   /* Output:   sortedStudents:   Garcia Cesar   Garcia Debra   Mortensen Sven   O'Donnell Claire   Omelchenko Svetlana
</pre></table></code></div></div></ul><p>sortedGroups: G Garcia, Cesar Garcia, Debra M Mortensen, Sven O O’Donnell, Claire Omelchenko, Svetlana */</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>
- **ascending**
  - 쿼리 식의 orderby 절에서 정렬 순서를 오름차순으로 지정.  
  - ascending은 기본 정렬 순서이므로 지정할 필요가 없다.
  ```c#
  IEnumerable&lt;string&gt; sortAscendingQuery =
    from vegetable in vegetables
    orderby vegetable ascending
    select vegetable;
</pre></table></code></div></div><ul><li><strong>descending</strong><ul><li>쿼리 식의 orderby 절에서 정렬 순서를 내림차순으로 지정.<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">sortDescendingQuery</span> <span class="p">=</span>
<span class="k">from</span> <span class="n">vegetable</span> <span class="k">in</span> <span class="n">vegetables</span>
<span class="k">orderby</span> <span class="n">vegetable</span> <span class="k">descending</span>
<span class="k">select</span> <span class="n">vegetable</span><span class="p">;</span>
</pre></table></code></div></div></ul></ul><h3 id="join">join<a href="#join" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>개체 모델에서 직접적인 관계가 없는 서로 다른 소스 시퀀스의 요소를 연결.<li>각 소스의 요소가 같은지 비교할 수 있는 일부 값을 공유할 수 있어야함.<ul><li>예를들어 식품 유통업체에 특정 제품의 공급업체 목록과 구매자 목록이 있을 때<br /> 해당 제품의 공급업체 및 구매자 목록을 만드는 데 사용할 수 있다.</ul><li>join 절은 두 개의 소스 시퀀스를 입력으로 사용.<br /> 각 시퀀스의 요소는 다른 시퀀스의 속성과 비교할 수 있는 속성이거나 해당 속성을 포함해야 함.<li>join 절은 특수한 equals 키워드를 사용하여 지정된 키가 같은지 비교한다.<ul><li>join 절로 수행된 모든 조인은 동등 조인이다.<li>join 절의 출력 형태는 수행하는 조인의 특정 유형에 따른다.</ul><li>일반적인 조인 유형<ul><li>내부 조인<li>그룹 조인<li>왼쪽 우선 외부 조인</ul><li><p>on 을 사용해 조인 조건을 지정.</p><li><p><strong>Inner join</strong></p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">innerJoinQuery</span> <span class="p">=</span> 
    <span class="k">from</span> <span class="n">cate</span> <span class="k">in</span> <span class="n">categories</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span>
    <span class="k">join</span> <span class="n">prod</span> <span class="k">in</span> <span class="n">products</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span> 
        <span class="k">on</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span> <span class="k">equals</span> <span class="n">prod</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span>
    <span class="k">select</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">CateID</span> <span class="p">=</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">),</span>
        <span class="n">CateName</span> <span class="p">=</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">),</span>
        <span class="n">ProdID</span> <span class="p">=</span> <span class="n">prod</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">),</span>
        <span class="n">ProdName</span> <span class="p">=</span> <span class="n">prod</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">),</span>
    <span class="p">};</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">innerJoinQuery</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DataRow</span> <span class="n">dr</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="nf">NewRow</span><span class="p">();</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"CateID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateID</span><span class="p">;</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"CateName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateName</span><span class="p">;</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"ProdID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">ProdID</span><span class="p">;</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"ProdName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">ProdName</span><span class="p">;</span>

    <span class="n">result</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">dr</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><img data-src="https://raw.githubusercontent.com/psy0231/psy0231.github.io/master/assets/img/C%23/LINQ_join_inner.JPG" alt="image" data-proofer-ignore/><li>내부 동등 조인의 예.<li>조건은 on뒤에 쓰는데 이떄는 equals만 허용한다함<li>ID를 비교해 같은 ID에 대한 정보 출력.<li>categories의 요소에 일치하는 products가 없는 경우 해당 범주는 결과에 나타나지 않음.</ul><li><p><strong>Left outer join</strong></p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">leftOuterJoinQuery</span> <span class="p">=</span>
    <span class="k">from</span> <span class="n">category</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">categories</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span>
    <span class="k">join</span> <span class="n">prod</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">products</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span> 
        <span class="k">on</span> <span class="n">category</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span> <span class="k">equals</span> <span class="n">prod</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span> 
        <span class="k">into</span> <span class="n">prodGroup</span>
    <span class="k">from</span> <span class="n">item</span> <span class="k">in</span> <span class="n">prodGroup</span><span class="p">.</span><span class="nf">DefaultIfEmpty</span><span class="p">()</span>
    <span class="k">select</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">CateID</span> <span class="p">=</span> <span class="n">category</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">),</span>
        <span class="n">CateName</span> <span class="p">=</span> <span class="n">category</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">),</span>
        <span class="n">ProdID</span> <span class="p">=</span> <span class="n">item</span> <span class="p">==</span> <span class="k">null</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="n">item</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"id"</span><span class="p">),</span>
        <span class="n">PtodName</span> <span class="p">=</span> <span class="n">item</span> <span class="p">==</span> <span class="k">null</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="n">item</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">)</span> 
    <span class="p">};</span>
  
<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">leftOuterJoinQuery</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DataRow</span> <span class="n">dr</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="nf">NewRow</span><span class="p">();</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"CateID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateID</span><span class="p">;</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"CateName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateName</span><span class="p">;</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"ProdID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">ProdID</span><span class="p">;</span>
    <span class="n">dr</span><span class="p">[</span><span class="s">"ProdName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">PtodName</span><span class="p">;</span>

    <span class="n">result</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">dr</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><img data-src="https://raw.githubusercontent.com/psy0231/psy0231.github.io/master/assets/img/C%23/LINQ_join_left.JPG" alt="image" data-proofer-ignore/><li>Left outer join에서는 오른쪽 시퀀스에 일치하는 요소가 없는 경우에도<br /> 왼쪽 소스 시퀀스의 모든 요소가 반환됩니다.<li>LINQ에서 Left outer join을 수행하려면<br /> 그룹 조인과 함께 DefaultIfEmpty 메서드를 사용하여<br /> 왼쪽 요소에 일치하는 요소가 없을 경우<br /> 생성할 기본 오른쪽 요소를 지정합니다.<li>null을 모든 참조 형식의 기본값으로 사용하거나<br /> 사용자 정의 기본 형식을 지정할 수 있습니다.</ul><li><strong>Group join</strong><ul><li>into 식을 포함한 join .<li>좀 특이한데 결과가 단순히 inner join처럼 될수도있고<br /> 아니면 left join처럼 될 수도 있음<li>왼쪽 기준 오른쪽에 있으면 값이 들어오고<br /> 없으면 빈 배열 들어옴.<li>결과에 그룹화된 결과가 들어온다는점을 제외하면<br /> 개본적으로 inner join과 같음<li><p>그룹을 풀어 foreach를 줄여줄 수 있음</p><li>like inner join<div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">groupJoinQuery</span> <span class="p">=</span> 
    <span class="k">from</span> <span class="n">cate</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">categories</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span>
    <span class="k">join</span> <span class="n">prod</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">products</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span> 
        <span class="k">on</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span> <span class="k">equals</span> <span class="n">prod</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span> 
        <span class="k">into</span> <span class="n">prodgroup</span>
    <span class="k">select</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">CateID</span> <span class="p">=</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">),</span>
        <span class="n">CateName</span> <span class="p">=</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">),</span>
        <span class="n">ProdGroup</span> <span class="p">=</span> <span class="n">prodgroup</span>
    <span class="p">};</span>
<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">groupJoinQuery</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">pg</span> <span class="k">in</span> <span class="n">item</span><span class="p">.</span><span class="n">ProdGroup</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">DataRow</span> <span class="n">dr</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="nf">NewRow</span><span class="p">();</span>
        <span class="n">dr</span><span class="p">[</span><span class="s">"CateID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateID</span><span class="p">;</span>
        <span class="n">dr</span><span class="p">[</span><span class="s">"CateName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateName</span><span class="p">;</span>
        <span class="n">dr</span><span class="p">[</span><span class="s">"ProdID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">pg</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">);</span>
        <span class="n">dr</span><span class="p">[</span><span class="s">"ProdName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">pg</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">);</span>
        <span class="n">result</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">dr</span><span class="p">);</span>

    <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><ul><li><img data-src="https://raw.githubusercontent.com/psy0231/psy0231.github.io/master/assets/img/C%23/LINQ_join_group_inner.JPG" alt="image" data-proofer-ignore/><li>보통의 경우 inner join처럼 출력.<li>위 설명에 그룹화된 결과를 제외하면 <br /> 기본적으로 inner join과 같다는게 이거.</ul><li><p>like left join</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">groupJoinQuery2</span> <span class="p">=</span>
    <span class="k">from</span> <span class="n">cate</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">categories</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span>
    <span class="k">join</span> <span class="n">prod</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">products</span><span class="p">.</span><span class="nf">AsEnumerable</span><span class="p">()</span>
        <span class="k">on</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span> <span class="k">equals</span> <span class="n">prod</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">)</span>
        <span class="k">into</span> <span class="n">prodgroup</span>
    <span class="k">select</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">CateID</span> <span class="p">=</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">),</span>
        <span class="n">CateName</span> <span class="p">=</span> <span class="n">cate</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">),</span>
        <span class="n">ProdGroup</span> <span class="p">=</span> <span class="n">prodgroup</span>
    <span class="p">};</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">groupJoinQuery2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">ProdGroup</span><span class="p">.</span><span class="nf">ToList</span><span class="p">().</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">pg</span> <span class="k">in</span> <span class="n">item</span><span class="p">.</span><span class="n">ProdGroup</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">DataRow</span> <span class="n">dr</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="nf">NewRow</span><span class="p">();</span>
            <span class="n">dr</span><span class="p">[</span><span class="s">"CateID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateID</span><span class="p">;</span>
            <span class="n">dr</span><span class="p">[</span><span class="s">"CateName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateName</span><span class="p">;</span>
            <span class="n">dr</span><span class="p">[</span><span class="s">"ProdID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">pg</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"ID"</span><span class="p">);</span>
            <span class="n">dr</span><span class="p">[</span><span class="s">"ProdName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">pg</span><span class="p">.</span><span class="n">Field</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Name"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">dr</span><span class="p">);</span>

        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">DataRow</span> <span class="n">dr</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="nf">NewRow</span><span class="p">();</span>
        <span class="n">dr</span><span class="p">[</span><span class="s">"CateID"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateID</span><span class="p">;</span>
        <span class="n">dr</span><span class="p">[</span><span class="s">"CateName"</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">CateName</span><span class="p">;</span>
        <span class="n">result</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">dr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><img data-src="https://raw.githubusercontent.com/psy0231/psy0231.github.io/master/assets/img/C%23/LINQ_join_group_left.JPG" alt="image" data-proofer-ignore/><li>데이터 검색을 좀 더 바꿔본다.<li>사실 위 설명 다시보면 왼쪽기준 오른쪽에 있으면 값이 들어오고<br /> 없으면 빈 배열 들어온다 했다.<br /> 이걸 다 출력하면 left join처럼 된다.</ul><li>근데 이럴꺼면 굳이 Group Join을 쓸 이유가 있나?</ul><li><strong>equals</strong><ul><li>join 절은 동등 조인을 수행.<br /> 즉, 일치 항목만을 기준으로 두 키가 같은지 비교할 수 있다.<br /> “보다 큼”이나 “같지 않음”과 같은 다른 유형의 비교는 지원되지 않는다.<li>동등 조인인지 확인하기 위해 “==” 연산자 대신 “equals” 키워드를 사용.<li>equals 키워드는 join 절에서만 사용할 수 있으며 == 연산자와 다르다.<ul><li>equals를 사용할 경우 왼쪽 키는 외부 소스 시퀀스를 사용하고<br /> 오른쪽 키는 내부 소스를 사용.<li>외부 소스는 equals의 왼쪽 범위에만 있고 내부 소스 시퀀스는 오른쪽 범위에만 있음.</ul></ul><li>그 외<ul><li>비동등조인, 개체 컬렉션 및 관계형 테이블에서 조인, 복합키 등<br /> 많은건 따로 참고.</ul></ul><h3 id="let">let<a href="#let" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>쿼리 식에서 하위 식의 결과를<br /> 후속 절에서 사용하기 위해 사용.<li>새 범위 변수를 만들고 제공한 식의 결과로 초기화.<li><p>값으로 초기화되면 범위 변수를 사용하여 다른 값을 저장할 수 없음.<br /> 그러나 범위 변수가 쿼리 가능 형식을 포함할 경우 쿼리할 수 있음.</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">LetSample1</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">string</span><span class="p">[]</span> <span class="n">strings</span> <span class="p">=</span>
        <span class="p">{</span>
            <span class="s">"A penny saved is a penny earned."</span><span class="p">,</span>
            <span class="s">"The early bird catches the worm."</span><span class="p">,</span>
            <span class="s">"The pen is mightier than the sword."</span>
        <span class="p">};</span>

        <span class="c1">// Split the sentence into an array of words</span>
        <span class="c1">// and select those whose first letter is a vowel.</span>
        <span class="kt">var</span> <span class="n">earlyBirdQuery</span> <span class="p">=</span>
            <span class="k">from</span> <span class="n">sentence</span> <span class="k">in</span> <span class="n">strings</span>
            <span class="k">let</span> <span class="n">words</span> <span class="p">=</span> <span class="n">sentence</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="sc">' '</span><span class="p">)</span>
            <span class="k">from</span> <span class="n">word</span> <span class="k">in</span> <span class="n">words</span>
            <span class="k">let</span> <span class="n">w</span> <span class="p">=</span> <span class="n">word</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">()</span>
            <span class="k">where</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'a'</span> <span class="p">||</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'e'</span>
                <span class="p">||</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'i'</span> <span class="p">||</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'o'</span>
                <span class="p">||</span> <span class="n">w</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'u'</span>
            <span class="k">select</span> <span class="n">word</span><span class="p">;</span>

        <span class="c1">// Execute the query.</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">v</span> <span class="k">in</span> <span class="n">earlyBirdQuery</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"\"{0}\" starts with a vowel"</span><span class="p">,</span> <span class="n">v</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Keep the console window open in debug mode.</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Press any key to exit."</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/* Output:
    "A" starts with a vowel
    "is" starts with a vowel
    "a" starts with a vowel
    "earned." starts with a vowel
    "early" starts with a vowel
    "is" starts with a vowel
*/</span>
</pre></table></code></div></div><ul><li>여기에서는 2가지 용도로 사용하는데<ul><li>그 자체를 쿼리할 수 있는 열거 가능한 형식을 생성.<li>쿼리가 범위 변수 word에서 ToLower를 한 번만 호출할 수 있도록 함.<br /> let을 사용하지 않을 경우 where 절의 각 조건자에서 ToLower를 호출해야 한다.</ul></ul></ul><h2 id="참고">참고<a href="#참고" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/programming-guide/concepts/linq/">C# 프로그래밍 가이드 LINQ</a><li><a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/linq/">C# 개념 LINQ</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/grind/'>Grind</a>, <a href='/categories/c/'>C#</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >c#</a> <a href="/tags/linq/" class="post-tag no-text-decoration" >linq</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=13. LINQ 1 - Null Section&url=https://psy0231.github.io/posts/CS_13_Linq_1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=13. LINQ 1 - Null Section&u=https://psy0231.github.io/posts/CS_13_Linq_1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=13. LINQ 1 - Null Section&url=https://psy0231.github.io/posts/CS_13_Linq_1/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Python_dict/">dict</a><li><a href="/posts/Python_Var_Type/">Variable & Data Type</a><li><a href="/posts/Docker_4_Container_Option/">Docker 4 - Container Option</a><li><a href="/posts/Docker_3_Container/">Docker 3 - Container</a><li><a href="/posts/Docker_2_Image/">Docker 2 - Image</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/asynchronous/">asynchronous</a> <a class="post-tag" href="/tags/data-type/">data type</a> <a class="post-tag" href="/tags/container/">container</a> <a class="post-tag" href="/tags/getting-started/">getting started</a> <a class="post-tag" href="/tags/io/">io</a> <a class="post-tag" href="/tags/logger/">logger</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CS_14_Linq_2/"><div class="card-body"> <em class="timeago small" date="2021-08-21 12:00:00 +0900" >Aug 21, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>14. LINQ 2</h3><div class="text-muted small"><p> 쿼리 쿼리 식 이 전 내용은 표준 쿼리식과 그 키워드에 관한 내용들. 절 Description from 데이터 소스와 범위 변수(반복 변수와 유사함)를 지정. ...</p></div></div></a></div><div class="card"> <a href="/posts/CS_1_Parameters/"><div class="card-body"> <em class="timeago small" date="2020-03-10 20:00:00 +0900" >Mar 10, 2020</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>1. Parameters</h3><div class="text-muted small"><p> intro method의 parameter에 대해. ref / out에서 계속 확장됨.. params, ref, out, in이 주요내용. params parameter를 가변개수의 변수가 있다고 지정. 1차원 배열만 가능 params뒤에는 추가로 parameter추가가 안됨. 앞에는 상관없음. param키워드는...</p></div></div></a></div><div class="card"> <a href="/posts/CS_2_Action&Func/"><div class="card-body"> <em class="timeago small" date="2020-03-12 12:00:00 +0900" >Mar 12, 2020</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2. Action/Func</h3><div class="text-muted small"><p> Build Up Action/Func - Task - async/await Action basic Encapsulates a method that has no parameters and does not return a value. public delegate void Action(); 그렇다고 한다. 그만알아보...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/CS_12_Async&Await_4/" class="btn btn-outline-primary" prompt="Older"><p>12. async/await_3 Excention 2</p></a> <a href="/posts/CS_14_Linq_2/" class="btn btn-outline-primary" prompt="Newer"><p>14. LINQ 2</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://psy0231.github.io/posts/CS_13_Linq_1/'; this.page.identifier = '/posts/CS_13_Linq_1/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://https-psy0231-github-io.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">SooyongPark</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/asynchronous/">asynchronous</a> <a class="post-tag" href="/tags/data-type/">data type</a> <a class="post-tag" href="/tags/container/">container</a> <a class="post-tag" href="/tags/getting-started/">getting started</a> <a class="post-tag" href="/tags/io/">io</a> <a class="post-tag" href="/tags/logger/">logger</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-160640437-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-160640437-1'); }); </script>
